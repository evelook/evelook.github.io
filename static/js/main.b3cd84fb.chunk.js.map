{"version":3,"sources":["feature/notifier/notifierActions.ts","component/Notifier/Notifier.tsx","context/DepsContext/DepsContext.tsx","feature/theme/themeActions.ts","hooks.ts","component/AppBar/AppBar.tsx","component/Home/RSSContent/RSSContent.tsx","component/Home/RSSSkeleton/RSSSkeleton.tsx","component/Home/RSSError/RSSError.tsx","component/Home/RSSPaper/RSSPaper.tsx","component/Home/AutocompleteOption/AutocompleteOption..tsx","component/Home/AutocompleteTextField/AutocompleteTextField.tsx","component/Home/HomeSearch/HomeSearch.tsx","feature/notifier/notifierKeys.ts","component/StatusCheck/StatusCheck.tsx","component/Home/Home.tsx","repository/SearchRepository/RepoCategory.ts","component/LoadingFullPage/LoadingFullPage.tsx","component/Search/SearchForm/SearchForm.tsx","component/Search/ResultTable/ResultTable.tsx","component/Search/ResultContainer/ResultContainer.tsx","component/ApiErrorFullPage/ApiErrorFullPage.tsx","component/Search/SearchResult/SearchResult.tsx","component/Search/SearchEmpty/SearchEmpty.tsx","component/Search/Search.tsx","component/AllianceInfo/CorpListTable/CorpListTable.tsx","component/AllianceInfo/AllianceInfoContent/AllianceInfoContent.tsx","component/AllianceInfo/AllianceInfo.tsx","component/CharacterInfo/CorpHistoryTable/CorpHistoryTable.tsx","component/EntityDescription/EntityDescription.tsx","component/CharacterInfo/CharacterInfoContent/CharacterInfoContent.tsx","component/CharacterInfo/CharacterInfo.tsx","component/ConstellationInfo/ConstellationInfo.tsx","component/CorporationInfo/AllianceHistoryTable/AllianceHistoryTable.tsx","component/CorporationInfo/CorporationInfoContent/CorporationInfoContent.tsx","component/CorporationInfo/CorporationInfo.tsx","component/TypeInfo/TypeInfo.tsx","component/RegionInfo/RegionInfo.tsx","component/SystemInfo/SystemInfo.tsx","component/StationInfo/StationInfo.tsx","component/FactionInfo/FactionInfoContent/FactionInfoContent.tsx","component/FactionInfo/FactionInfo.tsx","component/RaceInfo/RaceInfo.tsx","component/AncestryInfo/AncestryInfo.tsx","component/BloodlineInfo/BloodlineInfo.tsx","component/Test/Test.tsx","component/AllianceList/AlliancesTable/AlliancesTable.tsx","component/AllianceList/AllianceList.tsx","component/Dashboard/Dashboard.tsx","component/MyApp/MyApp.tsx","service/EsiClient/EsiClient.ts","service/EsiErrorManager/EsiErrorManager.ts","service/QueryFactory/Query.ts","service/QueryFactory/QueryFactory.ts","error/EsiError/EsiError.ts","service/Call/StatusCall/StatusCall.ts","service/Call/UniverseNamesCall/UniverseNamesCall.ts","service/Call/AllianceListCall/AllianceListCall.ts","service/Call/AllianceInfoCall/AllianceInfoCall.ts","repository/NameRepository/NameRepository.ts","service/Call/AllianceCorporationsCall/AllianceCorporationsCall.ts","service/Call/PublicSearchCall/PublicSearchCall.ts","repository/AllianceRepository/AllianceRepository.ts","service/Call/PublicSearchCall/EsiCategory.ts","repository/SearchRepository/SearchRepository.ts","service/Call/CharacterInfoCall/CharacterInfoCall.ts","service/Call/ConstellationInfoCall/ConstellationInfoCall.ts","service/Call/CorporationInfoCall/CorporationInfoCall.ts","service/Call/TypeInfoCall/TypeInfoCall.ts","service/Call/RegionInfoCall/RegionInfoCall.ts","service/Call/SystemInfoCall/SystemInfoCall.ts","service/Call/StationInfoCall/StationInfoCall.ts","service/Call/FactionCall/FactionCall.ts","service/Call/AncestryCall/AncestryCall.ts","service/Call/BloodlineCall/BloodlineCall.ts","repository/AncestryRepository/AncestryRepository.ts","repository/AbstractRepository/AbstractRepository.ts","repository/BloodlineRepository/BloodlineRepository.ts","repository/CharacterRepository/CharacterRepository.ts","service/Call/RaceCall/RaceCall.ts","repository/RaceRepository/RaceRepository.ts","service/Call/CharacterCorpHistoryCall/CharacterCorpHistoryCall.ts","service/DateFormatter/DateFormatter.ts","service/Call/CorporationAllianceHistoryCall/CorporationAllianceHistoryCall.ts","repository/CorporationRepository/CorporationRepository.ts","repository/FactionRepository/FactionRepository.ts","repository/RSSRepository/RSSRepository.ts","repository/StatusRepository/StatusRepository.ts","service/EntityManager/EntityManager.ts","service/EntityManager/Migration/MarketOrdersMigration.ts","service/EntityManager/Migration/SettingsMigration.ts","service/EntityManager/Table/SettingsTable.ts","service/EntityManager/Table/BaseTable.ts","service/EntityManager/Store/SettingsStoreInterface.ts","repository/SettingsRepository/SettingsRepository.ts","service/EsiProxy/EsiProxy.ts","service/PathGenerator/PathGenerator.ts","service/Imager/Imager.ts","service/Container/Container.ts","feature/drawer/drawerSlice.ts","feature/theme/themeSlice.ts","feature/notifier/notifierSlice.ts","reducer.ts","store.ts","serviceWorker.ts","index.tsx"],"names":["ENQUEUE_SNACKBAR","CLOSE_ONE","CLOSE_ALL","REMOVE_SNACKBAR","enqueueSnackbar","notification","key","options","type","Date","getTime","Math","random","closeOne","displayed","Notifier","dispatch","useDispatch","notifications","useSelector","store","notifier","useSnackbar","closeSnackbar","useEffect","forEach","id","message","dismissed","includes","onClose","event","reason","myKey","onExited","Number","removeOne","filter","DepsContext","createContext","useDeps","useContext","DepsProvider","children","container","Provider","value","THEME_CHANGE_MODE","THEME_SET_MODE","changeDarkMode","getState","a","state","darkMode","theme","settingsRepository","setDarkMode","catch","e","console","error","useStyles","makeStyles","createStyles","root","display","appBar","breakpoints","up","width","marginLeft","menuButton","marginRight","spacing","AppBar","title","Fragment","useTheme","classes","toolbarVariant","useMediaQuery","position","className","Toolbar","variant","IconButton","color","aria-label","edge","onClick","Typography","noWrap","buttonLinkParent","right","gridItem","down","paddingTop","RSSContent","entries","isSmall","dateFormatter","length","splice","map","entry","index","ListItem","ListItemText","primary","secondary","onlyDate","publishingDate","primaryTypographyProps","ListItemSecondaryAction","target","href","link","RSSSkeleton","Skeleton","height","RSSError","retry","style","paddingBottom","paddingLeft","paddingRight","Alert","severity","action","Button","size","cardTitle","RSSPaper","source","useState","paperContent","setPaperContent","setRetry","then","Grid","item","xs","md","Paper","List","dense","button","chip","flexAlignCenter","alignItems","flexJustifyCenter","justifyContent","margin","AutocompleteOption","option","Link","underline","name","Chip","clickable","label","prettyCategory","AutocompleteTextField","params","searchTextErrorText","searchTextIsError","submitWithoutOptionHandler","TextField","helperText","fullWidth","InputProps","endAdornment","InputAdornment","padding","popper","zIndex","createLink","category","HomeSearch","history","useHistory","autocompleteCache","useRef","searchOptions","setSearchOptions","apiOptions","setApiOptions","inputValue","setInputValue","isEveOnline","setIsEveOnline","searchInProgress","setSearchInProgress","setSearchTextErrorText","setSearchTextIsError","searchTextRef","searchRepository","statusRepository","filterOptions","createFilterOptions","limit","handleSubmitWithoutOption","push","Autocomplete","disableClearable","freeSolo","getOptionLabel","ListboxProps","onFocus","result","onChange","preventDefault","onInputChange","forAutocomplete","names","finally","onKeyPress","PopperComponent","props","Popper","modifiers","flip","enabled","ref","renderInput","renderOption","colorBlack","StatusCheck","isOnline","onClickCallback","closeOneSnackbarAction","anchorOrigin","horizontal","vertical","autoHideDuration","preventDuplicate","enqueueSnackbarAction","log","content","flexDirection","flexGrow","footerText","searchGridItem","minWidth","toolbar","minHeight","Home","rssRepository","direction","justify","getEveNewsFeed","getDevBlogsFeed","getPatchNotesFeed","align","repoCategories","circularProgress","marginTop","LoadingFullPage","CircularProgress","form","marginBottom","filledGrid","emptyGrid","selectGridItem","order","textGridItem","emptyGridItem","checkGridItem","SearchForm","needle","strict","categoryValue","setCategoryValue","strictValue","setStrictValue","submit","searchTextElement","current","text","replace","String","autoComplete","sm","FormControl","InputLabel","Select","labelId","MenuItem","inputRef","defaultValue","FormControlLabel","control","Checkbox","checked","arrowRightIconStyle","verticalAlign","emptyIconCell","ResultTable","data","denseTable","tableOptions","download","elevation","filterType","print","responsive","rowsPerPage","rowsPerPageOptions","search","selectableRows","setTableProps","viewColumns","columns","sort","customHeadLabelRender","customBodyRender","tableMeta","updateValue","rowData","component","to","setCellProps","ResultContainer","resultData","maxWidth","ApiErrorFullPage","AlertTitle","SearchResult","resultComponent","setResultComponent","publicSearch","SearchEmpty","Search","query","URLSearchParams","useLocation","queryCategory","get","queryStrict","queryNeedle","fixedHeader","rowHover","CorpListTable","corpList","pathGenerator","customHeadRender","corporationInfo","corpID","buttonCell","entityLogoCell","entityLogoGrid","entityLogoImg","gridContainer","gridWithTable","logo","textAlign","nameCell","backgroundColor","palette","main","contrastText","AllianceInfoContent","imager","alt","src","getAlliance","TableContainer","Table","TableBody","TableRow","TableCell","colSpan","ticker","getCharacter","creator_id","creator_name","characterInfo","getCorporation","creator_corporation_id","creator_corporation_name","withDateTime","date_founded","undefined","executor_corporation_name","executor_corporation_id","faction_name","factionInfo","faction_id","corporations","AllianceInfo","apiResult","setApiResult","allianceRepository","useParams","getOne","styles","corpImg","extractCorpID","CorpHistoryTable","EntityDescription","paragraphs","bio","split","paragraph","bioCell","successColorText","success","errorColorText","CharacterInfoContent","corporation_id","corporation_name","alliance_name","alliance_id","allianceInfo","birthday","security_status","race_name","raceInfo","race_id","ancestry_id","ancestry_name","ancestryInfo","bloodline_name","bloodlineInfo","bloodline_id","gender","toUpperCase","substr","description","corporation_history","CharacterInfo","characterRepository","ConstellationInfo","allianceImg","extractAllianceID","AllianceHistoryTable","alliances","isDeleted","start","end","whiteSpace","linkCell","overflow","textOverflow","noWrapCell","CorporationInfoContent","ceo_id","ceo_name","member_count","home_station_id","home_station_name","stationInfo","tax_rate","shares","war_eligible","url","alliance_history","CorporationInfo","corporationRepository","TypeInfo","RegionInfo","SystemInfo","StationInfo","FactionInfoContent","militia_corporation_id","militia_corporation_name","solar_system_id","solar_system_name","systemInfo","size_factor","station_count","station_system_count","is_unique","FactionInfo","factionRepository","RaceInfo","AncestryInfo","BloodlineInfo","snackbarAction","Test","closeAllSnackbar","sortOrder","AlliancesTable","AllianceList","getList","drawer","flexShrink","drawerPaper","logoText","fontFamily","join","fontWeight","textDecoration","darkModeToggle","nested","ResponsiveDrawer","window","mobileOpen","openListMore","setOpenListMore","getDarkMode","savedDarkMode","save","payload","handleCloseDrawer","Divider","FormGroup","row","ListItemIcon","Collapse","in","timeout","unmountOnExit","disablePadding","allianceList","document","body","Hidden","lgUp","implementation","Drawer","anchor","open","paper","ModalProps","keepMounted","mdDown","exact","path","base","home","constellationInfo","typeInfo","regionInfo","test","createMuiTheme","MyApp","ThemeProvider","CssBaseline","EsiClient","fetchClient","esiErrorManager","baseUrl","_userAgent","_fetchClient","_esiErrorManager","this","endUrl","method","isErrorWindowBroken","Error","headers","cache","uri","isEmpty","concat","toString","JSON","stringify","response","saveErrorWindowInfo","ok","status","flagWindowAsBroken","incrementError","EsiErrorManager","_errorReset","now","_errorRemain","_resetErrorWindow","limitReset","limitRemain","headerErrorReset","headerErrorRemain","Query","spaceDelimiter","_spaceDelimiter","_query","attribute","values","Object","keys","queryString","hasOwnProperty","encodeURIComponent","QueryFactory","EsiError","statusText","StatusCall","esiClient","_esiClient","_url","getResponse","json","UniverseNamesCall","ids","AllianceListCall","AllianceInfoCall","_getUrl","NameRepository","universeNamesCaller","_universeNamesCaller","_removeBannedIDs","allResolvedIDs","failuresCount","maxAllowedFailures","chunks","chunk","localResolvedIDs","round","indexOf","AllianceCorporationsCall","PublicSearchCall","queryFactory","_queryFactory","searchString","categories","make","add","AllianceRepository","allianceListCall","allianceInfoCall","allianceCorpsCall","nameRepo","_allianceListCall","_allianceInfoCall","_allianceCorpsCall","_nameRepo","Promise","all","esiAlliance","esiAllianceCorps","repoAlliance","idsToResolve","_pushUnique","resolveGeneric","allianceNames","corpsNames","resolvedName","corpName","allianceIDs","resolvedIDs","inputArray","esiCategories","SearchRepository","publicSearchCall","_publicSearchCall","_pathGenerator","categoriesForCall","_composeResult","cacheRef","uniNames","justNames","lowercaseSearchString","toLowerCase","uniName","startsWith","orderedNames","b","CharacterInfoCall","ConstellationInfoCall","CorporationInfoCall","TypeInfoCall","RegionInfoCall","SystemInfoCall","StationInfoCall","FactionCall","AncestryCall","BloodlineCall","AncestryRepository","ancestryCall","_ancestryCall","ancestries","foundAncestry","ancestry","AbstractRepository","BloodlineRepository","bloodlineCall","raceRepo","_bloodlineCall","_raceRepo","_getEsiBloodline","foundBloodline","ship_type_id","raceNamePromise","getName","_getIDsToResolve","indexedNames","_orderNamesByID","ship_type_name","bloodlines","bloodline","CharacterRepository","characterInfoCall","characterCorpHistoryCall","ancestryRepo","bloodlineRepo","_characterInfoCall","_characterCorpHistoryCall","_ancestryRepo","_bloodlineRepo","_getCorpHistory","esiChar","repoCorpHistory","repoChar","ancestryPromise","bloodlinePromise","namesPromise","racePromise","corpHistory","corp","is_deleted","foundName","RaceCall","RaceRepository","raceCall","factionRepo","_raceCall","_factionRepo","esiRaces","repoRaces","esiRace","repoRace","_getEsiRace","foundRace","races","race","CharacterCorpHistoryCall","DateFormatter","date","yyyy","getUTCFullYear","mm","toStringWithLeadingZero","getUTCMonth","dd","getUTCDate","hr","getUTCHours","min","getUTCMinutes","sec","getUTCSeconds","CorporationAllianceHistoryCall","CorporationRepository","corpInfoCall","corpAllianceHistoryCall","_corpInfoCall","_corpAllianceHistoryCall","getAllianceHistory","esiCorp","allianceHistory","repoCorp","recordIDs","indexedCorpHistory","record","allianceNamePlaceholder","record_id","end_date","historyToReturn","i","start_date","unshift","FactionRepository","factionCall","_factionCall","esiFactions","repoFactions","esiFaction","_assembleRepoFaction","_getEsiFaction","foundFaction","factions","faction","RSSRepository","_fetch","fetch","StatusRepository","statusCall","_statusCall","players","EntityManager","migrations","_migrations","versions","resolve","reject","dbReq","indexedDB","onupgradeneeded","version","oldVersion","migration","run","onsuccess","onblocked","onerror","code","MarketOrdersMigration","db","createObjectStore","keyPath","autoIncrement","createIndex","SettingsMigration","SettingsTable","em","_em","addMany","items","_getReadwriteTransaction","transaction","_getObjectStore","oncomplete","_getErrorMessage","clear","_getReadonlyTransaction","request","count","delete","_get","keyRange","getAll","putMany","put","getConnection","connection","objectStore","KEY_DARK_MODE","SettingsRepository","settingsTable","_settingsTable","putOne","EsiProxy","Response","PathGenerator","_idPlaceholder","Imager","_baseUrl","_getQuery","Container","_esi","_esiProxy","_imager","input","init","esi","allianceCorporationsCall","nameRepository","raceRepository","ancestryRepository","bloodlineRepository","corporationInfoCall","corporationAllianceHistoryCall","universeNamesCall","entityManager","initialState","rootReducer","combineReducers","actionNotification","createStore","applyMiddleware","thunk","withExtraArgument","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","maxSnack","getElementById","URL","process","origin","addEventListener","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b3cd84fb.chunk.js","sourcesContent":["import SnackbarNotificationInterface from \"./SnackbarNotificationInterface\";\n\nexport const ENQUEUE_SNACKBAR = 'ENQUEUE_SNACKBAR';\nexport const CLOSE_ONE = 'CLOSE_ONE';\nexport const CLOSE_ALL = 'CLOSE_ALL';\nexport const REMOVE_SNACKBAR = 'REMOVE_SNACKBAR';\n\nexport const enqueueSnackbar = (notification: SnackbarNotificationInterface) => {\n  const key = notification.options && notification.options.key;\n\n  return {\n    type: ENQUEUE_SNACKBAR,\n    notification: {\n      ...notification,\n      key: key || new Date().getTime() + Math.random(),\n    },\n  };\n};\n\nexport const closeOne = (key: number) => ({\n  type: CLOSE_ONE,\n  key,\n});\n\nexport const closeAll = () => ({\n  type: CLOSE_ALL,\n});\n\nexport const removeOne = (key: number) => ({\n  type: REMOVE_SNACKBAR,\n  key,\n});\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport { removeOne } from '../../feature/notifier/notifierActions'\nimport { RootState } from \"../../store\";\n\nlet displayed: number[] = [];\n\nexport default function Notifier() {\n  const dispatch = useDispatch();\n  const notifications = useSelector((store: RootState) => store.notifier.notifications);\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  const storeDisplayed = (id: number) => {\n    displayed = [...displayed, id];\n  };\n\n  const removeDisplayed = (id: number) => {\n    displayed = [...displayed.filter(key => id !== key)];\n  };\n\n  useEffect(() => {\n    notifications.forEach(({ key, message, options = {}, dismissed = false }) => {\n      if (dismissed) {\n        closeSnackbar(key);\n\n        return;\n      }\n\n      if (displayed.includes(key)) {\n        return;\n      }\n\n      enqueueSnackbar(message, {\n        key,\n        ...options,\n        onClose: (event, reason, myKey) => {\n          if (options.onClose) {\n            options.onClose(event, reason, myKey);\n          }\n        },\n        onExited: (event, myKey) => {\n          // remove this snackbar from redux store\n          let key = Number(myKey);\n          dispatch(removeOne(key));\n          removeDisplayed(key);\n        },\n      });\n\n      // keep track of snackbars that we've displayed\n      storeDisplayed(key);\n    });\n  }, [notifications, closeSnackbar, enqueueSnackbar, dispatch]);\n\n  return null;\n}\n","import React, { createContext, useContext } from \"react\";\nimport Container from \"../../service/Container/Container\";\n\nlet DepsContext = createContext({});\n\nexport function useDeps(): any {\n  return useContext(DepsContext);\n}\n\nexport function DepsProvider({children, container}: {children: any, container: Container}) {\n  return (\n    <DepsContext.Provider value={container}>\n      {children}\n    </DepsContext.Provider>\n  )\n}\n","import Container from \"../../service/Container/Container\";\nimport {RootState} from \"../../store\";\n\nexport const THEME_CHANGE_MODE = 'theme/changeMode';\nexport const THEME_SET_MODE = 'theme/setMode';\n\nexport async function changeDarkMode(\n  dispatch: any,\n  getState: any,\n  container: Container\n) {\n  let state = getState() as RootState;\n  let { darkMode }: { darkMode: boolean } = state.theme;\n  let { settingsRepository } = container;\n\n  settingsRepository.setDarkMode(!darkMode).catch(e => console.error(e));\n  dispatch({ type: THEME_CHANGE_MODE });\n}\n\nexport function setDarkMode(darkMode: boolean, save: boolean) {\n  return function(dispatch: any, getState: any, container: Container) {\n    let { settingsRepository } = container;\n\n    if (save) {\n      settingsRepository.setDarkMode(darkMode).catch(e => console.error(e));\n    }\n    dispatch({ type: THEME_SET_MODE, payload: darkMode });\n  };\n}\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React from 'react';\nimport MUIAppBar from '@material-ui/core/AppBar';\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDispatch } from 'react-redux';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Typography from '@material-ui/core/Typography';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    appBar: {\n      [theme.breakpoints.up('lg')]: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n      },\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n      [theme.breakpoints.up('lg')]: {\n        display: 'none',\n      },\n    },\n  }),\n);\n\nexport default function AppBar(\n  {\n    title = \"\",\n    children = <React.Fragment />\n  }: {\n    title: string,\n    children?: React.ReactNode\n  }\n) {\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const dispatch = useDispatch();\n  const toolbarVariant = useMediaQuery(theme.breakpoints.up('sm')) ? \"dense\" : \"regular\";\n\n  return (\n    <MUIAppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar variant={toolbarVariant}>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          edge=\"start\"\n          onClick={() => dispatch({type: 'drawer/mobileOpen'})}\n          className={classes.menuButton}\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h6\" noWrap>\n          {title}\n        </Typography>\n        {children}\n      </Toolbar>\n    </MUIAppBar>\n  );\n}\n","import React from 'react';\nimport RSSFeedEntryInterface from \"../../../repository/RSSRepository/RSSFeedEntryInterface\";\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport {makeStyles, Theme, createStyles, useTheme} from '@material-ui/core/styles';\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport ListItem from '@material-ui/core/ListItem';\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport DateFormatterInterface from \"../../../service/DateFormatter/DateFormatterInterface\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonLinkParent: {\n      right: 0,\n    },\n    gridItem: {\n      [theme.breakpoints.down('xs')]: {\n        paddingTop: theme.spacing(3),\n      }\n    },\n  }),\n);\n\nexport default function RSSContent(\n  {\n    entries\n  }: {\n    entries: RSSFeedEntryInterface[]\n  }\n) {\n  const classes = useStyles();\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    dateFormatter\n  }: {\n    dateFormatter: DateFormatterInterface\n  } = useDeps();\n\n  if (entries.length > 5) {\n    entries.splice(5, entries.length - 5);\n  }\n\n  return (\n    <React.Fragment>\n      {entries.map((entry, index) => {\n        return (\n          <ListItem key={index}>\n            <ListItemText\n              primary={entry.title}\n              secondary={dateFormatter.onlyDate(new Date(entry.publishingDate))}\n              primaryTypographyProps={ isSmall ? {} : { noWrap: true } }\n            />\n            <ListItemSecondaryAction className={classes.buttonLinkParent}>\n              <IconButton target=\"_blank\" href={entry.link}>\n                <ArrowRightIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        );\n      })}\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport {ListItem} from \"@material-ui/core\";\n\nexport default function RSSSkeleton() {\n  return (\n    <React.Fragment>\n      <ListItem>\n        <Skeleton variant=\"rect\" width={\"100%\"} height={52} />\n      </ListItem>\n      <ListItem>\n        <Skeleton variant=\"rect\" width={\"100%\"} height={52} />\n      </ListItem>\n      <ListItem>\n        <Skeleton variant=\"rect\" width={\"100%\"} height={52} />\n      </ListItem>\n      <ListItem>\n        <Skeleton variant=\"rect\" width={\"100%\"} height={52} />\n      </ListItem>\n      <ListItem>\n        <Skeleton variant=\"rect\" width={\"100%\"} height={52} />\n      </ListItem>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\n\nexport default function RSSError(\n  {\n    retry\n  }: {\n    retry: () => void\n  }\n) {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"300px\",\n        paddingTop: \"4px\",\n        paddingBottom: \"4px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\"\n      }}\n    >\n      <Alert\n        severity=\"error\"\n        action={\n          <Button color=\"inherit\" size=\"small\" onClick={retry}>\n            RETRY\n          </Button>\n        }\n      >\n        Error while fetching the feed.\n      </Alert>\n    </div>\n  )\n}\n","import React, {useEffect, useState} from 'react';\nimport RSSFeedEntryInterface from \"../../../repository/RSSRepository/RSSFeedEntryInterface\";\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Paper from '@material-ui/core/Paper';\nimport {makeStyles, Theme, createStyles} from '@material-ui/core/styles';\nimport RSSContent from \"../RSSContent/RSSContent\";\nimport RSSSkeleton from \"../RSSSkeleton/RSSSkeleton\";\nimport RSSError from \"../RSSError/RSSError\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonLinkParent: {\n      right: 0,\n    },\n    cardTitle: {\n      paddingTop: theme.spacing(2),\n      paddingLeft: theme.spacing(3)\n    },\n    gridItem: {\n      [theme.breakpoints.down('xs')]: {\n        paddingTop: theme.spacing(3),\n      }\n    },\n  }),\n);\n\nexport default function RSSPaper(\n  {\n    title,\n    source\n  }: {\n    title: string,\n    source: () => Promise<RSSFeedEntryInterface[]>\n  }\n) {\n  const classes = useStyles();\n  const [paperContent, setPaperContent] = useState<React.ReactElement | null>(<RSSSkeleton />);\n  const [retry, setRetry] = useState<boolean>(false);\n\n  useEffect(() => {\n    setPaperContent(<RSSSkeleton />);\n\n    source()\n      .then(entries => setPaperContent(<RSSContent entries={entries} />))\n      .catch(() => setPaperContent(<RSSError retry={() => setRetry(!retry)}/>));\n  }, [retry]);\n\n  return (\n    <React.Fragment>\n      <Grid item xs={12} md={4} className={classes.gridItem}>\n        <Paper>\n          <Typography variant=\"h6\" className={classes.cardTitle}>\n            {title}\n          </Typography>\n          <List dense={true}>\n            {paperContent}\n          </List>\n        </Paper>\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Link from \"@material-ui/core/Link\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShortcutIcon from \"@material-ui/icons/Shortcut\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Chip from \"@material-ui/core/Chip\";\n\nimport { OptionType } from \"../HomeSearch/HomeSearch\";\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    button: {\n      marginRight: 0,\n    },\n    chip: {\n      marginRight: theme.spacing(1.5),\n    },\n    flexAlignCenter: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    flexJustifyCenter: {\n      display: \"flex\",\n      justifyContent: \"center\",\n    },\n    link: {\n      margin: \"0px\",\n      display: \"flex\",\n      width: \"100%\",\n      height: \"100%\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n    },\n  })\n);\n\nexport default function AutocompleteOption(\n  {\n    option,\n    link\n  }: {\n    option: OptionType,\n    link: string\n  }\n) {\n  const classes = useStyles();\n\n  return (\n    <Link\n      className={classes.link}\n      color=\"inherit\"\n      href={`#${link}`}\n      underline=\"none\"\n    >\n      <div className={classes.flexJustifyCenter}>\n        <IconButton\n          aria-label=\"search result action\"\n          className={classes.button}\n          edge=\"end\"\n        >\n          {option.link === null\n            ? <SearchIcon />\n            : <ShortcutIcon />\n          }\n        </IconButton>\n        <Typography className={classes.flexAlignCenter} noWrap={true}>\n          {option.name}\n        </Typography>\n      </div>\n      <Chip\n        className={classes.chip}\n        clickable={true}\n        label={option.prettyCategory}\n        size=\"small\"\n        variant=\"outlined\"\n      />\n    </Link>\n  );\n}\n","import React from 'react';\nimport {AutocompleteRenderInputParams} from \"@material-ui/lab/Autocomplete/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nexport default function AutocompleteTextField(\n  {\n    params,\n    searchTextErrorText,\n    searchTextIsError,\n    submitWithoutOptionHandler\n  }: {\n    params: AutocompleteRenderInputParams,\n    searchTextErrorText: string,\n    searchTextIsError: boolean,\n    submitWithoutOptionHandler: () => void\n  }\n) {\n\n  return (\n    <TextField\n      {...params}\n      color=\"secondary\"\n      error={searchTextIsError}\n      helperText={searchTextErrorText}\n      fullWidth\n      id=\"home-search-text\"\n      label=\"Search\"\n      variant=\"outlined\"\n      InputProps={{\n        ...params.InputProps,\n        type: 'search',\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <IconButton\n              aria-label=\"toggle password visibility\"\n              onClick={submitWithoutOptionHandler}\n              edge=\"end\"\n              style={{ marginRight: \"-7px\" }}\n            >\n              <SearchIcon />\n            </IconButton>\n          </InputAdornment>\n        )\n      }}\n    />\n  );\n}\n","import React, {useRef, useState, useEffect} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport {AutocompleteInputChangeReason} from \"@material-ui/lab/useAutocomplete/useAutocomplete\";\nimport { useHistory } from \"react-router-dom\";\nimport Popper from \"@material-ui/core/Popper\";\n\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport SearchRepositoryInterface from \"../../../repository/SearchRepository/SearchRepositoryInterface\";\nimport ResultWithLinkInterface from \"../../../repository/SearchRepository/ResulWithLinkInterface\";\nimport AutocompleteOption from \"../AutocompleteOption/AutocompleteOption.\";\nimport AutocompleteTextField from \"../AutocompleteTextField/AutocompleteTextField\";\nimport StatusRepositoryInterface from \"../../../repository/StatusRepository/StatusRepositoryInterface\";\nimport {AutocompleteCache} from \"../../../repository/SearchRepository/SearchRepository\";\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      padding: 0,\n      margin: 0,\n      \"& li\": {\n        padding: 0,\n        width: \"100%\",\n      }\n    },\n    popper: {\n      zIndex: \"unset\",\n    }\n  })\n);\n\ninterface FakeResult {\n  name: string,\n  prettyCategory: \"search...\",\n  link: string | null\n}\n\nexport type OptionType = ResultWithLinkInterface | FakeResult;\n\nconst createLink = (option: OptionType) => {\n  if (\"id\" in option && option.link !== null) {\n    return option.link;\n  }\n\n  let category = \"all\";\n  if (\"category\" in option) {\n    category = option.category;\n  }\n\n  return `/search?category=${category}&strict=false&needle=${option.name}`\n};\n\nexport default function HomeSearch() {\n  let history = useHistory();\n  let classes = useStyles();\n  let autocompleteCache = useRef<AutocompleteCache>({});\n  // The options going fueling the autocomplete\n  let [searchOptions, setSearchOptions] = useState<OptionType[]>([]);\n  // The options just as returned from the API\n  let [apiOptions, setApiOptions] = useState<Array<ResultWithLinkInterface>>([]);\n  let [inputValue, setInputValue] = useState<string>(\"\");\n  let [isEveOnline, setIsEveOnline] = useState<boolean | null>(null);\n  let [searchInProgress, setSearchInProgress] = useState<boolean>(false);\n  let [searchTextErrorText, setSearchTextErrorText] = useState(\"\");\n  let [searchTextIsError, setSearchTextIsError] = useState(false);\n  let searchTextRef = useRef<HTMLInputElement | null>(null); // FIXME: maybe it's not needed?\n  let {\n    searchRepository,\n    statusRepository\n  }: {\n    searchRepository: SearchRepositoryInterface,\n    statusRepository: StatusRepositoryInterface\n  } = useDeps();\n  const filterOptions = createFilterOptions<OptionType>({\n    limit: 9,\n  });\n\n  // We do this in order to add the user input as a first option,\n  // on top of the api result.\n  useEffect(() => {\n    if (inputValue.length < 3) {\n      setSearchOptions([]);\n\n      return;\n    }\n\n    let inputOption: FakeResult = {\n      name: inputValue,\n      prettyCategory: \"search...\",\n      link: null\n    };\n\n    setSearchOptions([\n      inputOption,\n      ...apiOptions\n    ]);\n  }, [apiOptions, inputValue]);\n\n  // reason = 'input' on manual typing\n  // reason = 'reset' after click on suggestion\n  const handleInputChange = (\n    event: React.ChangeEvent<{}>,\n    value: string,\n    reason: AutocompleteInputChangeReason\n  ): void => {\n    setInputValue(value);\n\n    // When the text box gets cleared with the \"x\" or when\n    // the user backspace without triggering new searches\n    if (value.length < 3) {\n      setApiOptions([]);\n\n      return;\n    }\n\n    if (\n      searchInProgress\n      || isEveOnline === false\n      || reason === \"reset\"\n      || value.length < 3\n      || value.length > 15\n      || value.length % 2 === 0\n    ) {\n      return;\n    }\n\n    setSearchInProgress(true);\n    searchRepository.forAutocomplete(value, \"all\", autocompleteCache)\n      .then(names => {\n        setApiOptions(names);\n      })\n      .catch(e => {\n\n      })\n      .finally(() => {\n        setSearchInProgress(false);\n      });\n  };\n\n  const handleSelect = (\n    event: React.ChangeEvent<{}>,\n    value: string | OptionType,  // no idea where the string type come from, possibly it's the string the user has typed without selecting anything from the box\n    reason: string\n  ): void => {\n    if (typeof value === 'string') {\n      return;\n    }\n\n    event.preventDefault();\n    history.push(createLink(value));\n  }\n\n  // Handle a submit that didn't involved the selection box, so only triggered\n  // by pressing enter while in the text field, or by clicking the search button.\n  const handleSubmitWithoutOption = (): void => {\n    if (inputValue.length < 3) {\n      setSearchTextIsError(true);\n      setSearchTextErrorText(\"It must be at least 3 characters long.\")\n\n      return;\n    }\n\n    history.push(`/search?category=all&strict=false&needle=${inputValue}`);\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent): void => {\n    if (e.key === \"Enter\") {\n      handleSubmitWithoutOption();\n    }\n  }\n\n  const handleFocus = (): void => {\n    if (isEveOnline !== null) {\n      return;\n    }\n\n    statusRepository.isEveOnline()\n      .then(result => setIsEveOnline(result))\n      .catch(e => console.error(e));\n  }\n\n  return (\n    <React.Fragment>\n      <Autocomplete\n        disableClearable\n        filterOptions={filterOptions}\n        freeSolo  // The user input is not bound to provided options.\n        getOptionLabel={(option: OptionType | string) => typeof option === 'string' ? option : option.name}\n        id=\"free-solo-2-demo\"\n        ListboxProps={{\n          className: [classes.root],\n        }}\n        onFocus={handleFocus}\n        onChange={handleSelect}\n        onInputChange={handleInputChange}\n        onKeyPress={handleKeyPress}\n        options={searchOptions}\n        PopperComponent={props => (\n          <Popper\n            {...props}\n            modifiers={{\n              flip: {\n                enabled: false,\n              },\n            }}\n            className={classes.popper}\n          >\n            {props.children}\n          </Popper>\n        )}\n        ref={searchTextRef}\n        renderInput={params => (\n          <AutocompleteTextField\n            params={params}\n            searchTextErrorText={searchTextErrorText}\n            searchTextIsError={searchTextIsError}\n            submitWithoutOptionHandler={handleSubmitWithoutOption}\n          />)}\n        renderOption={(option, state) => (\n          <AutocompleteOption\n            option={option}\n            link={createLink(option)}\n          />\n        )}\n      />\n    </React.Fragment>\n  );\n}\n","export const KEY_EVE_OFFLINE = 1;\n","import React, { useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\n\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport StatusRepositoryInterface from \"../../repository/StatusRepository/StatusRepositoryInterface\";\nimport {\n  enqueueSnackbar as enqueueSnackbarAction,\n  closeOne as closeOneSnackbarAction\n} from '../../feature/notifier/notifierActions';import Button from \"@material-ui/core/Button\";\nimport { KEY_EVE_OFFLINE } from \"../../feature/notifier/notifierKeys\";\nimport SnackbarNotificationInterface from \"../../feature/notifier/SnackbarNotificationInterface\";\n\nconst colorBlack = { color: \"black\" };\n\nconst snackbarAction = (onClickCallback: () => void) => (\n  <React.Fragment>\n    <Button style={ colorBlack }>\n      CHECK\n    </Button>\n    <Button style={ colorBlack } onClick={onClickCallback}>\n      DISMISS\n    </Button>\n  </React.Fragment>\n);\n\nexport default function StatusCheck() {\n  const dispatch = useDispatch();\n  const enqueueSnackbar = (notification: SnackbarNotificationInterface) => dispatch(enqueueSnackbarAction(notification));\n  const closeSnackbar = (key: number) => dispatch(closeOneSnackbarAction(key));\n  const {\n    statusRepository\n  }: {\n    statusRepository: StatusRepositoryInterface\n  } = useDeps();\n\n  useEffect(() => {\n    statusRepository.isEveOnline()\n      .then(isOnline => {\n        if (!isOnline) {\n          enqueueSnackbar({\n            message: \"EVE is offline, don't hit the API.\",\n            options: {\n              action: key => snackbarAction(() => closeSnackbar(Number(key))),\n              anchorOrigin: {\n                horizontal: \"right\",\n                vertical: \"bottom\",\n              },\n              autoHideDuration: null,\n              key: KEY_EVE_OFFLINE,\n              preventDuplicate: true,\n              variant: 'error',\n            },\n          });\n        }\n      })\n      .catch(e => console.log(`Error while checking EVE status: ${e}`));\n  });\n\n  return null;\n}\n","import React from 'react';\nimport {makeStyles, Theme, createStyles, useTheme} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport AppBar from \"../AppBar/AppBar\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport RSSRepositoryInterface from \"../../repository/RSSRepository/RSSRepositoryInterface\";\nimport RSSPaper from \"./RSSPaper/RSSPaper\";\nimport HomeSearch from \"./HomeSearch/HomeSearch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport StatusCheck from \"../StatusCheck/StatusCheck\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonLinkParent: {\n      right: 0,\n    },\n    cardTitle: {\n      paddingTop: theme.spacing(2),\n      paddingLeft: theme.spacing(3)\n    },\n    content: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\",\n\n      height: \"100vh\",\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      [theme.breakpoints.down('xs')]: {\n        padding: 0\n      }\n    },\n    footerText: {\n      paddingTop: theme.spacing(2),\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(1),\n      }\n    },\n    searchGridItem: {\n      minWidth: \"40%\",\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3),\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(9),\n      [theme.breakpoints.down('lg')]: {\n        minWidth: \"40%\",\n      },\n      [theme.breakpoints.down('md')]: {\n        minWidth: \"60%\",\n      },\n      [theme.breakpoints.down('sm')]: {\n        minWidth: \"70%\",\n      },\n      [theme.breakpoints.down('xs')]: {\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(0),\n        minWidth: \"100%\",\n      }\n    },\n\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nexport default function Home(props: {}) {\n  const classes = useStyles();\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    rssRepository\n  }: {\n    rssRepository: RSSRepositoryInterface\n  } = useDeps();\n\n  return (\n    <React.Fragment>\n      <StatusCheck />\n      <AppBar title=\"Home\" />\n      <main className={classes.content}>\n        <div>\n          <div className={classes.toolbar} />\n\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n          >\n\n            <Grid item className={classes.searchGridItem} xs={6}>\n              <HomeSearch />\n            </Grid>\n\n            <Grid item style={{ minWidth: \"100%\" }} xs={6}>\n              <Grid container spacing={isSmall ? 0 : 3}>\n                <RSSPaper\n                  title={\"Official news\"}\n                  source={() => rssRepository.getEveNewsFeed()}\n                />\n                <RSSPaper\n                  title={\"Dev blogs\"}\n                  source={() => rssRepository.getDevBlogsFeed()}\n                />\n                <RSSPaper\n                  title={\"Patch notes\"}\n                  source={() => rssRepository.getPatchNotesFeed()}\n                />\n              </Grid>\n            </Grid>\n\n          </Grid>\n        </div>\n\n        <Typography\n          variant=\"caption\"\n          align=\"center\"\n          className={classes.footerText}\n        >\n          All Eve Related Materials are Property of CCP Games\n        </Typography>\n      </main>\n    </React.Fragment>\n  );\n}\n","const repoCategories = [\"all\", \"agent\", \"alliance\", \"character\", \"constellation\", \"corporation\", \"faction\", \"inventory_type\", \"region\", \"solar_system\", \"station\"] as const;\n\ntype RepoCategory = typeof repoCategories[number];\n\nexport default RepoCategory;\nexport { repoCategories };\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    circularProgress: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      marginTop: theme.spacing(3),\n    }\n  }),\n);\n\nexport default function LoadingFullPage() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.circularProgress}>\n      <CircularProgress color=\"secondary\" />\n    </div>\n  );\n}\n","import Grid from \"@material-ui/core/Grid\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport React, {ReactElement, useRef, useState} from \"react\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    form: {\n      width: \"100%\",\n      marginBottom: theme.spacing(0.5),\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3)\n      }\n    },\n    filledGrid: {\n      padding: theme.spacing(0.5),\n    },\n    emptyGrid: {\n      padding: theme.spacing(0.5),\n      // Removing the border when hitting the breakpoint\n      [theme.breakpoints.down('xs')]: {\n        padding: 0,\n      }\n    },\n    selectGridItem: {\n      order: 1,\n      [theme.breakpoints.down('xs')]: {\n        order: 2,\n      }\n    },\n    textGridItem: {\n      order: 2,\n      [theme.breakpoints.down('xs')]: {\n        order: 1,\n        paddingBottom: theme.spacing(2),\n      }\n    },\n    emptyGridItem: {\n      order: 3,\n    },\n    checkGridItem: {\n      order: 4,\n    }\n  }),\n);\n\nexport default function SearchForm(\n  {\n    category,\n    needle,\n    strict\n  }: {\n    category: string,\n    needle: string,\n    strict: boolean\n  }\n) {\n  let classes = useStyles();\n  let history = useHistory();\n  let [categoryValue, setCategoryValue] = useState(category);\n  let [strictValue, setStrictValue] = useState(strict);\n  let [searchTextErrorText, setSearchTextErrorText] = useState(\"\");\n  let [searchTextIsError, setSearchTextIsError] = useState(false);\n  let searchTextRef = useRef<HTMLInputElement | null>(null);\n\n  let submit = (): ReactElement | void => {\n    let searchTextElement = searchTextRef.current;\n    if (searchTextElement === null || searchTextElement.value.length < 3) {\n      setSearchTextIsError(true);\n      setSearchTextErrorText(\"It must be at least 3 characters long.\")\n\n      return;\n    }\n\n    let text = searchTextElement.value;\n    history.replace(`/search?category=${categoryValue}&strict=${String(strictValue)}&needle=${text}`);\n  }\n\n  let handleEnterPress = (e: React.KeyboardEvent): void => {\n    if (e.key === \"Enter\") {\n      submit();\n    }\n  }\n\n  return(\n    <form autoComplete=\"off\" className={classes.form}>\n      <Grid container>\n        <Grid item xs={12} sm={4} className={`${classes.filledGrid} ${classes.selectGridItem}`}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n          >\n            <InputLabel id=\"demo-simple-select-outlined-label\">Category</InputLabel>\n            <Select\n              labelId=\"demo-simple-select-outlined-label\"\n              id=\"demo-simple-select-outlined\"\n              value={categoryValue}\n              onChange={e => setCategoryValue(e.target.value as string)}\n              label=\"Category\"\n              color=\"secondary\"\n            >\n              <MenuItem value={\"all\"}>All</MenuItem>\n              <MenuItem value={\"agent\"}>Agent</MenuItem>\n              <MenuItem value={\"alliance\"}>Alliance</MenuItem>\n              <MenuItem value={\"character\"}>Character</MenuItem>\n              <MenuItem value={\"constellation\"}>Constellation</MenuItem>\n              <MenuItem value={\"corporation\"}>Corporation</MenuItem>\n              <MenuItem value={\"faction\"}>Faction</MenuItem>\n              <MenuItem value={\"inventory_type\"}>Item</MenuItem>\n              <MenuItem value={\"region\"}>Region</MenuItem>\n              <MenuItem value={\"solar_system\"}>System</MenuItem>\n              <MenuItem value={\"station\"}>Station</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={8} className={`${classes.filledGrid} ${classes.textGridItem}`}>\n          <TextField\n            id=\"outlined-basic\"\n            error={searchTextIsError}\n            helperText={searchTextErrorText}\n            label=\"Search\"\n            variant=\"outlined\"\n            color=\"secondary\"\n            fullWidth\n            onKeyPress={handleEnterPress}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={submit}\n                    edge=\"end\"\n                  >\n                    <SearchIcon />\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n            inputRef={searchTextRef}\n            defaultValue={needle}\n          />\n        </Grid>\n        <Grid item xs={12} sm={4} className={`${classes.emptyGrid} ${classes.emptyGridItem}`}>\n        </Grid>\n        <Grid item xs={12} sm={8} className={`${classes.filledGrid} ${classes.checkGridItem}`}>\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={strictValue}\n                onChange={e => setStrictValue(e.target.checked as boolean)}\n                name=\"checkedA\"\n              />\n            }\n            label=\"Strict\"\n          />\n        </Grid>\n      </Grid>\n    </form>\n  );\n}\n","import React from 'react';\nimport MUIDataTable, {MUIDataTableColumnDef, MUIDataTableOptions} from \"mui-datatables\";\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ResultWithLinkInterface from \"../../../repository/SearchRepository/ResulWithLinkInterface\";\nimport { Link } from \"react-router-dom\";\nimport IconButton from '@material-ui/core/IconButton';\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    arrowRightIconStyle: {\n      verticalAlign: \"middle\",\n    },\n    emptyIconCell: {\n      minHeight: \"30px\"\n    }\n  }),\n);\n\nexport default function ResultTable(\n  {\n    data\n  }: {\n    data: ResultWithLinkInterface[]\n  }\n) {\n  const theme = useTheme();\n  let classes = useStyles();\n  const denseTable = useMediaQuery(theme.breakpoints.up('sm'));\n\n  let tableOptions: MUIDataTableOptions = {\n    download: false,\n    elevation: 1,\n    filterType: \"checkbox\",\n    print: false,\n    responsive: \"standard\",\n    rowsPerPage: 25,\n    rowsPerPageOptions: [],\n    search: false,\n    selectableRows: \"none\",\n    setTableProps: () => {\n      return {\n        size: denseTable ? \"small\" : \"medium\"\n      };\n    },\n    viewColumns: false\n  };\n\n  const columns: MUIDataTableColumnDef[] = [\n    {\n      name: \"name\",\n      label: \"Name\",\n      options: {\n        filter: false,\n        sort: true,\n      }\n    },\n    {\n      name: \"prettyCategory\",\n      label: \"Category\",\n      options: {\n        filter: true,\n        sort: true,\n      }\n    },\n    {\n      name: \"link\",\n      options: {\n        filter: false,\n        sort: false,\n        display: false,\n      }\n    },\n    {\n      name: \"id\",\n      options: {\n        filter: false,\n        sort: false,\n        display: false,\n      }\n    },\n    {\n      name: \"icon\",\n      label: \"\",\n      options: {\n        customHeadLabelRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let link = tableMeta.rowData[2];\n\n          if (link === null) {\n            return <div className={classes.emptyIconCell} />;\n          }\n\n          return (\n            <IconButton\n              size=\"small\"\n              aria-label=\"open\"\n              component={Link}\n              to={link}\n            >\n              <ArrowRightIcon className={classes.arrowRightIconStyle}/>\n            </IconButton>\n\n          );\n        },\n        filter: false,\n        setCellProps: () => ({ style: { width: \"0\"}}),\n        sort: false,\n      }\n    }\n  ];\n\n  return (\n    <MUIDataTable\n      title={\"\"}\n      data={data}\n      columns={columns}\n      options={tableOptions}\n    />\n  );\n}\n","import React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport ResultTable from \"../ResultTable/ResultTable\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport ResultWithLinkInterface from \"../../../repository/SearchRepository/ResulWithLinkInterface\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      padding: 0,\n    }\n  })\n);\n\nexport default function ResultContainer(\n  {\n    category,\n    needle,\n    strict,\n    resultData\n  }: {\n    category: string,\n    needle: string,\n    strict: boolean\n    resultData: ResultWithLinkInterface[]\n  }\n) {\n  let classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <Container maxWidth=\"sm\" className={classes.container}>\n        <SearchForm\n          category={category}\n          needle={needle}\n          strict={strict}\n        />\n        {resultData.length >= 500 &&\n        <Alert severity=\"warning\">More than 500 records found, the API hasn't performed a full search. Try refining your parameters if you need more accuracy.</Alert>\n        }\n        <ResultTable data={resultData}/>\n      </Container>\n    </React.Fragment>\n  )\n}\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { AlertTitle } from \"@material-ui/lab\";\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      '& > * + *': {\n        marginTop: theme.spacing(2),\n      },\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n      }\n    },\n  }),\n);\n\nexport default function ApiErrorFullPage(\n  {\n    retry,\n    text\n  }: {\n    retry: () => void,\n    text: string\n  }\n) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Alert\n        severity=\"error\"\n        action={\n          <Button color=\"inherit\" size=\"small\" onClick={retry}>\n            <strong>RETRY</strong>\n          </Button>\n        }\n        variant=\"outlined\"\n      >\n        <AlertTitle>Error</AlertTitle>\n        {text}\n      </Alert>\n    </div>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\n\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport AppBar from \"../../AppBar/AppBar\";\nimport SearchRepositoryInterface from \"../../../repository/SearchRepository/SearchRepositoryInterface\";\nimport RepoCategory from \"../../../repository/SearchRepository/RepoCategory\";\nimport LoadingFullPage from \"../../LoadingFullPage/LoadingFullPage\";\nimport ResultContainer from \"../ResultContainer/ResultContainer\";\nimport ApiErrorFullPage from \"../../ApiErrorFullPage/ApiErrorFullPage\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      height: \"100vh\",\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: 0,\n        paddingRight: 0\n      }\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nexport default function SearchResult(\n  {\n    category,\n    needle,\n    strict\n  }: {\n    category: string,\n    needle: string,\n    strict: boolean\n  }\n) {\n  let classes = useStyles();\n  let [resultComponent, setResultComponent] = useState<any>(<LoadingFullPage />);\n  let [retry, setRetry] = useState(false);\n  let {\n    searchRepository\n  }: {\n    searchRepository: SearchRepositoryInterface\n  } = useDeps();\n\n  useEffect(() => {\n    setResultComponent(<LoadingFullPage />);\n    setRetry(false);\n\n    searchRepository.publicSearch(needle, category as RepoCategory, strict)  // FIX typescript\n      .then(data => {\n        setResultComponent(\n          <ResultContainer\n            category={category}\n            needle={needle}\n            strict={strict}\n            resultData={data}\n          />\n        );\n      }).catch(e => {\n        setResultComponent(\n          <ApiErrorFullPage\n            retry={() => setRetry(true)}\n            text={e.message}\n          />\n        );\n      }\n    );\n  }, [category, needle, strict, retry]);\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Search\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {resultComponent}\n      </main>\n    </React.Fragment>\n  );\n}\n","import {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport AppBar from \"../../AppBar/AppBar\";\nimport Container from \"@material-ui/core/Container\";\nimport SearchForm from \"../SearchForm/SearchForm\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      height: \"100vh\",\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n    container: {\n      padding: 0,\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"70vh\"\n    },\n  }),\n);\n\nexport default function SearchEmpty(\n  {\n    category\n  }: {\n    category: string\n  }\n) {\n  let classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Search\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Container maxWidth=\"sm\" className={classes.container}>\n          <SearchForm\n            category={category}\n            needle={\"\"}\n            strict={false}\n          />\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport RepoCategory, { repoCategories } from \"../../repository/SearchRepository/RepoCategory\";\nimport SearchResult from \"./SearchResult/SearchResult\";\nimport SearchEmpty from \"./SearchEmpty/SearchEmpty\";\n\nexport default function Search() {\n  let query = new URLSearchParams(useLocation().search);\n\n  let category: RepoCategory = \"all\";\n  let queryCategory = query.get(\"category\");\n  if (queryCategory !== null && repoCategories.includes(queryCategory as RepoCategory)) {\n    category = queryCategory as RepoCategory;\n  }\n\n  let queryStrict = query.get(\"strict\");\n  let queryNeedle = query.get(\"needle\");\n  if (queryStrict !== null && queryNeedle !== null) {\n    return (\n      <SearchResult\n        category={category}\n        needle={queryNeedle}\n        strict={queryStrict === \"true\"}\n      />\n    );\n  }\n\n  return (\n    <SearchEmpty category={category} />\n  );\n}\n","import MUIDataTable, {MUIDataTableColumnDef, MUIDataTableOptions} from \"mui-datatables\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport React from \"react\";\n\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\n\n\nconst options: MUIDataTableOptions = {\n  elevation: 1,\n  filter: false,\n  fixedHeader: false,\n  print: false,\n  responsive: \"standard\",\n  rowHover: false,\n  rowsPerPageOptions: [],\n  selectableRows: \"none\",\n  viewColumns: false,\n};\n\nexport default function CorpListTable(\n  {\n    corpList\n  }: {\n    corpList: { [key:string]: string }\n  }\n) {\n  let {\n    pathGenerator\n  }: {\n    pathGenerator: PathGenerator\n  } = useDeps();\n\n  const columns: MUIDataTableColumnDef[] = [\n    {\n      name: \"name\",\n      label: \"Name\",\n      options: {\n        customHeadRender: () => null\n      }\n    },\n    {\n      name: \"id\",\n      label: \"ID\",\n      options: {\n        customHeadRender: () => null,\n        display: false,\n      }\n    },\n    {\n      name: \"icon\",\n      label: \"\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let id = tableMeta.rowData[1];\n\n          return (\n            <IconButton\n              size=\"small\"\n              aria-label=\"open\"\n              component={Link}\n              to={pathGenerator.corporationInfo(`${id}`)}\n            >\n              <ArrowRightIcon />\n            </IconButton>\n          );\n        },\n        download: false,\n        setCellProps: () => ({ style: { width: 0, paddingTop: 0, paddingBottom: 0 }}),\n      }\n    }\n  ];\n\n  let data: { name: string, id: number }[] = [];\n  for (let corpID in corpList) {\n    data.push({ name: corpList[corpID], id: Number(corpID) });\n  }\n\n  return(\n    <MUIDataTable\n      title={\"Corporations\"}\n      data={data}\n      columns={columns}\n      options={options}\n    />\n  );\n}\n","import React from 'react';\nimport {createStyles, makeStyles, Theme, useTheme} from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport RepoAllianceInterface from \"../../../repository/AllianceRepository/RepoAllianceInterface\";\nimport CorpListTable from \"../CorpListTable/CorpListTable\";\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport ImagerInterface from \"../../../service/Imager/ImagerInterface\";\nimport DateFormatterInterface from \"../../../service/DateFormatter/DateFormatterInterface\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonCell: {\n      paddingTop: 0,\n      paddingBottom: 0,\n      width: 0,\n    },\n    entityLogoCell: {\n      paddingTop: 0,\n      paddingRight: 0,\n      paddingBottom: 0\n    },\n    entityLogoGrid: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    entityLogoImg: {\n      marginRight: theme.spacing(1),\n      [theme.breakpoints.down('xs')]: {\n        display: \"none\",\n      },\n    },\n    gridContainer: {\n      marginTop: 0,\n    },\n    gridWithTable: {\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(3),\n      },\n    },\n    title: {\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2)\n      },\n    },\n    logo: {\n      textAlign: \"center\",\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(2),\n    },\n    nameCell: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n    }\n  }),\n);\n\nexport default function AllianceInfoContent(\n  {\n    content\n  }: {\n    content: RepoAllianceInterface\n  }\n) {\n  let classes = useStyles();\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    dateFormatter,\n    imager,\n    pathGenerator,\n  }: {\n    dateFormatter: DateFormatterInterface,\n    imager: ImagerInterface,\n    pathGenerator: PathGenerator,\n  } = useDeps();\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={isSmall ? 0 : 3} className={classes.gridContainer}>\n        <Grid item xs={12} className={classes.logo}>\n          <img\n            alt=\"alliance logo\"\n            src={imager.getAlliance(`${content.id}`)}\n            height=\"180\"\n            width=\"180\"\n          />\n        </Grid>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <TableContainer component={Paper}>\n            <Table aria-label=\"alliance information\">\n              <TableBody>\n                <TableRow>\n                  <TableCell\n                    colSpan={3}\n                    align=\"center\"\n                    className={classes.nameCell}\n                  >\n                    <Typography variant=\"h6\">{ content.name }</Typography>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Ticker:</TableCell>\n                  <TableCell>{ content.ticker }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>ID:</TableCell>\n                  <TableCell>{ content.id }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Creator (char):</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    <Grid container>\n                      <Grid item className={classes.entityLogoGrid}>\n                        <img\n                          src={imager.getCharacter(`${content.creator_id}`, 64)}\n                          alt=\"character portrait\"\n                          height={48}\n                          width={48}\n                          className={classes.entityLogoImg}\n                        />\n                      </Grid>\n                      <Grid item className={classes.entityLogoGrid}>\n                        { content.creator_name }\n                      </Grid>\n                    </Grid>\n                  </TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open character\"\n                      component={Link}\n                      to={pathGenerator.characterInfo(`${content.creator_id}`)}\n                    >\n                      <ArrowRightIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Creator (corp):</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    <Grid container>\n                      <Grid item className={classes.entityLogoGrid}>\n                        <img\n                          src={imager.getCorporation(`${content.creator_corporation_id}`, 64)}\n                          alt=\"corporation logo\"\n                          height={48}\n                          width={48}\n                          className={classes.entityLogoImg}\n                        />\n                      </Grid>\n                      <Grid item className={classes.entityLogoGrid}>\n                        { content.creator_corporation_name }\n                      </Grid>\n                    </Grid>\n                  </TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open corporation\"\n                      component={Link}\n                      to={pathGenerator.corporationInfo(`${content.creator_corporation_id}`)}\n                    >\n                      <ArrowRightIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Date founded:</TableCell>\n                  <TableCell>{ dateFormatter.withDateTime(new Date(content.date_founded)) }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n                {content.executor_corporation_name !== undefined &&\n                  <TableRow>\n                      <TableCell>Executor:</TableCell>\n                      <TableCell className={classes.entityLogoCell}>\n                        <Grid container>\n                          <Grid item className={classes.entityLogoGrid}>\n                            <img\n                              src={imager.getCorporation(`${content.executor_corporation_id}`, 64)}\n                              alt=\"corporation logo\"\n                              height={48}\n                              width={48}\n                              className={classes.entityLogoImg}\n                            />\n                          </Grid>\n                          <Grid item className={classes.entityLogoGrid}>\n                            { content.executor_corporation_name }\n                          </Grid>\n                        </Grid>\n                      </TableCell>\n                      <TableCell align=\"right\" className={classes.buttonCell}>\n                          <IconButton\n                              size=\"small\"\n                              aria-label=\"open character\"\n                              component={Link}\n                              to={pathGenerator.corporationInfo(`${content.executor_corporation_id}`)}\n                          >\n                              <ArrowRightIcon />\n                          </IconButton>\n                      </TableCell>\n                  </TableRow>\n                }\n                {content.faction_name !== undefined &&\n                  <TableRow>\n                    <TableCell>Faction:</TableCell>\n                    <TableCell>{ content.faction_name }</TableCell>\n                      <TableCell align=\"right\" className={classes.buttonCell}>\n                        <IconButton\n                          size=\"small\"\n                          aria-label=\"open character\"\n                          component={Link}\n                          to={pathGenerator.factionInfo(`${content.faction_id}`)}\n                        >\n                          <ArrowRightIcon />\n                        </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <CorpListTable corpList={content.corporations} />\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Container from \"@material-ui/core/Container\";\n\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport AppBar from \"../AppBar/AppBar\";\nimport LoadingFullPage from \"../LoadingFullPage/LoadingFullPage\";\nimport AllianceRepositoryInterface from \"../../repository/AllianceRepository/AllianceRepositoryInterface\";\nimport ApiErrorFullPage from \"../ApiErrorFullPage/ApiErrorFullPage\";\nimport AllianceInfoContent from \"./AllianceInfoContent/AllianceInfoContent\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n    },\n    content: {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3),\n      [theme.breakpoints.down('xs')]: {\n        padding: 0,\n      }\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nexport default function AllianceInfo() {\n  let classes = useStyles();\n  let [apiResult, setApiResult] = useState(<LoadingFullPage />);\n  let [retry, setRetry] = useState(false);\n  let {\n    allianceRepository\n  }: {\n    allianceRepository: AllianceRepositoryInterface\n  } = useDeps();\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  useEffect(() => {\n    if (id === undefined) {\n      return;\n    }\n\n    setApiResult(<LoadingFullPage />);\n    setRetry(false);\n\n    allianceRepository.getOne(Number(id))\n      .then(data => {\n        setApiResult(\n          <AllianceInfoContent content={data} />\n        );\n      }).catch(e => {\n        setApiResult(\n          <ApiErrorFullPage\n            retry={() => setRetry(true)}\n            text={e.message}\n          />\n        );\n      });\n  }, [retry, id]);\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Alliance\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          {apiResult}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","import MUIDataTable, {MUIDataTableColumnDef, MUIDataTableMeta, MUIDataTableOptions} from \"mui-datatables\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport React from \"react\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport RepoCharacterCorpHistoryInterface\n  from \"../../../repository/CharacterRepository/RepoCharacterCorpHistoryInterface\";\nimport DateFormatterInterface from \"../../../service/DateFormatter/DateFormatterInterface\";\nimport ImagerInterface from \"../../../service/Imager/ImagerInterface\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\n\nconst options: MUIDataTableOptions = {\n  download: false,\n  elevation: 1,\n  filter: false,\n  fixedHeader: false,\n  print: false,\n  responsive: \"standard\",\n  rowHover: false,\n  rowsPerPage: 100,\n  rowsPerPageOptions: [],\n  search: false,\n  selectableRows: \"none\",\n  viewColumns: false,\n};\n\nconst styles = {\n  corpImg: {\n    display: \"flex\",\n  }\n};\n\nconst extractCorpID = (tableMeta: MUIDataTableMeta): number => {\n  return tableMeta.rowData[3];\n};\n\nexport default function CorpHistoryTable(\n  {\n    corporations\n  }: {\n    corporations: RepoCharacterCorpHistoryInterface[]\n  }\n) {\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    dateFormatter,\n    imager,\n    pathGenerator,\n  }: {\n    dateFormatter: DateFormatterInterface,\n    imager: ImagerInterface,\n    pathGenerator: PathGenerator,\n  } = useDeps();\n\n  const columns: MUIDataTableColumnDef[] = [\n    {\n      name: \"logo\",\n      label: \"\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let id = extractCorpID(tableMeta);\n\n          return (\n            <img\n              src={imager.getCorporation(`${id}`, 64)}\n              alt=\"corporation logo\"\n              height={48}\n              width={48}\n              style={styles.corpImg}\n            />\n          );\n        },\n        display: !isSmall,\n        setCellProps: () => ({ style: { width: 0, paddingTop: 0, paddingBottom: 0, paddingRight: 0 }}),\n      }\n    },\n    {\n      name: \"corporation_name\",\n      label: \"Name\",\n      options: {\n        customHeadRender: () => null\n      }\n    },\n    {\n      name: \"start_date\",\n      label: \"From\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          return dateFormatter.withDateTime(new Date(value));\n        },\n      }\n    },\n    {\n      name: \"corporation_id\",\n      label: \"ID\",\n      options: {\n        customHeadRender: () => null,\n        display: false,\n      }\n    },\n    {\n      name: \"icon\",\n      label: \"\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let id = extractCorpID(tableMeta);\n\n          return (\n            <IconButton\n              size=\"small\"\n              aria-label=\"open\"\n              component={Link}\n              to={pathGenerator.corporationInfo(`${id}`)}\n            >\n              <ArrowRightIcon />\n            </IconButton>\n          );\n        },\n        download: false,\n        setCellProps: () => ({ style: { width: 0, paddingTop: 0, paddingBottom: 0 }}),\n      }\n    }\n  ];\n\n  return(\n    <MUIDataTable\n      title={\"Corp History\"}\n      data={corporations}\n      columns={columns}\n      options={options}\n    />\n  );\n}\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function EntityDescription(\n  {\n    bio\n  }: {\n    bio: string\n  }\n) {\n  let paragraphs = bio.split(\"<br>\");\n\n  return (\n    <React.Fragment>\n      {paragraphs.map((paragraph, key) => {\n        return <Typography>{ paragraph.replace(/(<([^>]+)>)/gi, \"\") }</Typography>\n      })}\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {createStyles, makeStyles, Theme, useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport RepoCharacterInterface from \"../../../repository/CharacterRepository/RepoCharacterInterface\";\nimport CorpHistoryTable from \"../CorpHistoryTable/CorpHistoryTable\";\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport DateFormatterInterface from \"../../../service/DateFormatter/DateFormatterInterface\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport EntityDescription from \"../../EntityDescription/EntityDescription\";\nimport ImagerInterface from \"../../../service/Imager/ImagerInterface\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonCell: {\n      paddingTop: 0,\n      paddingBottom: 0,\n      width: 0,\n    },\n    gridContainer: {\n      marginTop: 0,\n    },\n    gridWithTable: {\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(3),\n      },\n    },\n    title: {\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2)\n      },\n    },\n    logo: {\n      textAlign: \"center\",\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(2),\n    },\n    nameCell: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n    },\n    entityLogoCell: {\n      paddingTop: 0,\n      paddingRight: 0,\n      paddingBottom: 0\n    },\n    entityLogoGrid: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    entityLogoImg: {\n      marginRight: theme.spacing(1),\n      [theme.breakpoints.down('xs')]: {\n        display: \"none\",\n      },\n    },\n    bioCell: {\n      verticalAlign: \"top\",\n    },\n    successColorText: {\n      color: theme.palette.success.main,\n    },\n    errorColorText: {\n      color: theme.palette.error.main,\n    },\n  }),\n);\n\nexport default function CharacterInfoContent(\n  {\n    content\n  }: {\n    content: RepoCharacterInterface\n  }\n) {\n  let classes = useStyles();\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    dateFormatter,\n    imager,\n    pathGenerator,\n  }: {\n    dateFormatter: DateFormatterInterface,\n    imager: ImagerInterface,\n    pathGenerator: PathGenerator,\n  } = useDeps();\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={isSmall ? 0 : 3} className={classes.gridContainer}>\n        <Grid item xs={12} className={classes.logo}>\n          <img\n            alt=\"character portrait\"\n            src={imager.getCharacter(`${content.id}`)}\n            height=\"180\"\n            width=\"180\"\n          />\n        </Grid>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <TableContainer component={Paper}>\n            <Table aria-label=\"character information\">\n              <TableBody>\n                <TableRow>\n                  <TableCell\n                    colSpan={3}\n                    align=\"center\"\n                    className={classes.nameCell}\n                  >\n                    <Typography variant=\"h6\">{ content.name }</Typography>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Corporation:</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    <Grid container>\n                      <Grid item className={classes.entityLogoGrid}>\n                        <img\n                          src={imager.getCorporation(`${content.corporation_id}`, 64)}\n                          alt=\"corporation logo\"\n                          height={48}\n                          width={48}\n                          className={classes.entityLogoImg}\n                        />\n                      </Grid>\n                      <Grid item className={classes.entityLogoGrid}>\n                        { content.corporation_name }\n                      </Grid>\n                    </Grid>\n                  </TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open corporation\"\n                      component={Link}\n                      to={pathGenerator.corporationInfo(`${content.corporation_id}`)}\n                    >\n                      <ArrowRightIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                {content.alliance_name !== undefined &&\n                  <TableRow>\n                      <TableCell>Alliance:</TableCell>\n                      <TableCell className={classes.entityLogoCell}>\n                          <Grid container>\n                              <Grid item className={classes.entityLogoGrid}>\n                                  <img\n                                      src={imager.getAlliance(`${content.alliance_id}`, 64)}\n                                      alt=\"alliance logo\"\n                                      height={48}\n                                      width={48}\n                                      className={classes.entityLogoImg}\n                                  />\n                              </Grid>\n                              <Grid item className={classes.entityLogoGrid}>\n                                { content.alliance_name }\n                              </Grid>\n                          </Grid>\n                      </TableCell>\n                      <TableCell align=\"right\" className={classes.buttonCell}>\n                          <IconButton\n                              size=\"small\"\n                              aria-label=\"open alliance\"\n                              component={Link}\n                              to={pathGenerator.allianceInfo(`${content.alliance_id}`)}\n                          >\n                              <ArrowRightIcon />\n                          </IconButton>\n                      </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>Birthday:</TableCell>\n                  <TableCell>{ dateFormatter.withDateTime(new Date(content.birthday)) }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                {content.security_status !== undefined &&\n                  <TableRow>\n                      <TableCell>Sec status:</TableCell>\n                      <TableCell\n                          className={content.security_status < 0 ? classes.errorColorText : classes.successColorText}>\n                        {content.security_status}\n                      </TableCell>\n                      <TableCell align=\"right\"> </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>Title</TableCell>\n                  <TableCell>{ content.title }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Race:</TableCell>\n                  <TableCell>{ content.race_name }</TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open race\"\n                      component={Link}\n                      to={pathGenerator.raceInfo(`${content.race_id}`)}\n                    >\n                      <ArrowRightIcon/>\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                {content.ancestry_id !== undefined && content.ancestry_id > 0 && // 0 is possible even if it's not valid\n                  <TableRow>\n                      <TableCell>Ancestry:</TableCell>\n                      <TableCell>{ content.ancestry_name }</TableCell>\n                      <TableCell align=\"right\" className={classes.buttonCell}>\n                        <IconButton\n                          size=\"small\"\n                          aria-label=\"open ancestry\"\n                          component={Link}\n                          to={pathGenerator.ancestryInfo(`${content.ancestry_id}`)}\n                        >\n                          <ArrowRightIcon/>\n                        </IconButton>\n                      </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>Bloodline:</TableCell>\n                  <TableCell>{ content.bloodline_name }</TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open bloodline\"\n                      component={Link}\n                      to={pathGenerator.bloodlineInfo(`${content.bloodline_id}`)}\n                    >\n                      <ArrowRightIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                {content.faction_name !== undefined &&\n                  <TableRow>\n                      <TableCell>Faction:</TableCell>\n                      <TableCell>{ content.faction_name }</TableCell>\n                      <TableCell align=\"right\" className={classes.buttonCell}>\n                        <IconButton\n                          size=\"small\"\n                          aria-label=\"open faction\"\n                          component={Link}\n                          to={pathGenerator.factionInfo(`${content.faction_id}`)}\n                        >\n                          <ArrowRightIcon />\n                        </IconButton>\n                      </TableCell>\n                  </TableRow>\n                }\n                <TableRow>\n                  <TableCell>Gender:</TableCell>\n                  <TableCell>{ `${content.gender[0].toUpperCase()}${content.gender.substr(1)}` }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n                {content.description !== undefined &&\n                  <TableRow>\n                      <TableCell className={classes.bioCell}>Bio:</TableCell>\n                      <TableCell colSpan={2}><EntityDescription bio={content.description} /></TableCell>\n                  </TableRow>\n                }\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <CorpHistoryTable corporations={content.corporation_history} />\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport { useParams } from \"react-router-dom\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport AppBar from \"../AppBar/AppBar\";\nimport CharacterInfoContent from \"./CharacterInfoContent/CharacterInfoContent\";\nimport Container from \"@material-ui/core/Container\";\nimport LoadingFullPage from \"../LoadingFullPage/LoadingFullPage\";\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport CharacterRepositoryInterface from \"../../repository/CharacterRepository/CharacterRepositoryInterface\";\nimport ApiErrorFullPage from \"../ApiErrorFullPage/ApiErrorFullPage\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n    },\n    content: {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3),\n      [theme.breakpoints.down('xs')]: {\n        padding: 0,\n      }\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nexport default function CharacterInfo() {\n  let classes = useStyles();\n  let [apiResult, setApiResult] = useState(<LoadingFullPage />);\n  let [retry, setRetry] = useState(false);\n  let {\n    characterRepository\n  }: {\n    characterRepository: CharacterRepositoryInterface\n  } = useDeps();\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  useEffect(() => {\n    if (id === undefined) {\n      return;\n    }\n\n    setApiResult(<LoadingFullPage />);\n    setRetry(false);\n\n    characterRepository.getOne(Number(id))\n      .then(data => {\n        setApiResult(\n          <CharacterInfoContent content={data} />\n        )\n      }).catch(e => {\n        setApiResult(\n          <ApiErrorFullPage\n            retry={() => setRetry(true)}\n            text={e.message}\n          />\n        );\n      });\n  }, [retry, id]);\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Character\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          {apiResult}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function ConstellationInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>constellation {id}</h1>\n  );\n}\n","import MUIDataTable, {MUIDataTableColumnDef, MUIDataTableMeta, MUIDataTableOptions} from \"mui-datatables\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport React from \"react\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Grid from '@material-ui/core/Grid';\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport DateFormatterInterface from \"../../../service/DateFormatter/DateFormatterInterface\";\nimport RepoCorpAllianceHistoryInterface\n  from \"../../../repository/CorporationRepository/RepoCorpAllianceHistoryInterface\";\nimport ImagerInterface from \"../../../service/Imager/ImagerInterface\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\n\n\nconst options: MUIDataTableOptions = {\n  download: false,\n  elevation: 1,\n  filter: false,\n  fixedHeader: false,\n  print: false,\n  responsive: \"standard\",\n  rowHover: false,\n  rowsPerPage: 100,\n  rowsPerPageOptions: [],\n  search: false,\n  selectableRows: \"none\",\n  viewColumns: false,\n};\n\nconst styles = {\n  allianceImg: {\n    display: \"flex\",\n  }\n};\n\nconst extractAllianceID = (tableMeta: MUIDataTableMeta): number => {\n  return tableMeta.rowData[5];\n};\n\nexport default function AllianceHistoryTable(\n  {\n    alliances\n  }: {\n    alliances: RepoCorpAllianceHistoryInterface[]\n  }\n) {\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    dateFormatter,\n    imager,\n    pathGenerator,\n  }: {\n    dateFormatter: DateFormatterInterface,\n    imager: ImagerInterface,\n    pathGenerator: PathGenerator,\n  } = useDeps();\n\n  const columns: MUIDataTableColumnDef[] = [\n    {\n      name: \"logo\",\n      label: \"\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let id = extractAllianceID(tableMeta);\n\n          return (\n            <img\n              src={imager.getAlliance(`${id}`, 64)}\n              alt=\"alliance logo\"\n              height={48}\n              width={48}\n              style={styles.allianceImg}\n            />\n          );\n        },\n        display: !isSmall,\n        setCellProps: () => ({ style: { width: 0, paddingTop: 0, paddingBottom: 0, paddingRight: 0 }}),\n      }\n    },\n    {\n      name: \"alliance_name\",\n      label: \"Name\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let isDeleted = tableMeta.rowData[7];\n\n          return `${value}${isDeleted === true ? \" (Closed)\" : \"\"}`;\n        },\n      }\n    },\n    {\n      name: \"start_date\",\n      label: \"From\",\n      options: {\n        display: false,\n      }\n    },\n    {\n      name: \"end_date\",\n      label: \"To\",\n      options: {\n        display: false,\n      }\n    },\n    {\n      name: \"stacked_dates\",\n      label: \"From To\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let start = tableMeta.rowData[2];\n          let end = tableMeta.rowData[3];\n\n          return (\n            <React.Fragment>\n              <Grid container direction=\"column\">\n                {end !== undefined &&\n                  <Grid item xs style={{ whiteSpace: \"nowrap\" }}>\n                    {dateFormatter.withDateTime(new Date(end))}\n                  </Grid>\n                }\n                <Grid item xs style={{ whiteSpace: \"nowrap\" }}>\n                  {dateFormatter.withDateTime(new Date(start))}\n                </Grid>\n              </Grid>\n            </React.Fragment>\n          );\n        },\n        setCellProps: () => ({ style: { paddingTop: 0, paddingBottom: 0 }}),\n      }\n    },\n    {\n      name: \"alliance_id\",\n      label: \"ID\",\n      options: {\n        customHeadRender: () => null,\n        display: false,\n      }\n    },\n    {\n      name: \"icon\",\n      label: \"\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let id = extractAllianceID(tableMeta);\n\n          return (\n            <IconButton\n              size=\"small\"\n              aria-label=\"open\"\n              component={Link}\n              to={pathGenerator.allianceInfo(`${id}`)}\n            >\n              <ArrowRightIcon/>\n            </IconButton>\n          );\n        },\n        download: false,\n        setCellProps: () => ({style: {width: 0, paddingTop: 0, paddingBottom: 0}}),\n      }\n    },\n    {\n      name: \"is_deleted\",\n      label: \"Is deleted\",\n      options: {\n        display: false,\n      }\n    },\n  ];\n\n  return(\n    <MUIDataTable\n      title={\"Alliance History\"}\n      data={alliances}\n      columns={columns}\n      options={options}\n    />\n  );\n}\n","import RepoCorporationInterface from \"../../../repository/CorporationRepository/RepoCorporationInterface\";\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {createStyles, makeStyles, Theme, useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport DateFormatterInterface from \"../../../service/DateFormatter/DateFormatterInterface\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport ClearIcon from '@material-ui/icons/Clear';\nimport CheckIcon from '@material-ui/icons/Check';\nimport EntityDescription from \"../../EntityDescription/EntityDescription\";\nimport AllianceHistoryTable from \"../AllianceHistoryTable/AllianceHistoryTable\";\nimport { default as MUILink } from '@material-ui/core/Link';\nimport ImagerInterface from \"../../../service/Imager/ImagerInterface\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonCell: {\n      paddingTop: 0,\n      paddingBottom: 0,\n      width: 0,\n    },\n    gridContainer: {\n      marginTop: 0,\n    },\n    gridWithTable: {\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(3),\n      },\n    },\n    title: {\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2)\n      },\n    },\n    logo: {\n      textAlign: \"center\",\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(2),\n    },\n    nameCell: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n    },\n    entityLogoCell: {\n      paddingTop: 0,\n      paddingRight: 0,\n      paddingBottom: 0\n    },\n    entityLogoGrid: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    entityLogoImg: {\n      marginRight: theme.spacing(1),\n      [theme.breakpoints.down('xs')]: {\n        display: \"none\",\n      },\n    },\n    linkCell: {\n      maxWidth: \"100px\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n    },\n    noWrapCell: {\n      whiteSpace: \"nowrap\",\n      [theme.breakpoints.down('xs')]: {\n        whiteSpace: \"normal\",\n      },\n    },\n    bioCell: {\n      verticalAlign: \"top\",\n    },\n    successColorText: {\n      color: theme.palette.success.main,\n    },\n    errorColorText: {\n      color: theme.palette.error.main,\n    },\n  }),\n);\n\nexport default function CorporationInfoContent(\n  {\n    content\n  }: {\n    content: RepoCorporationInterface\n  }\n) {\n  let classes = useStyles();\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    dateFormatter,\n    imager,\n    pathGenerator,\n  }: {\n    dateFormatter: DateFormatterInterface,\n    imager: ImagerInterface,\n    pathGenerator: PathGenerator,\n  } = useDeps();\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={isSmall ? 0 : 3} className={classes.gridContainer}>\n        <Grid item xs={12} className={classes.logo}>\n          <img\n            alt=\"corporation logo\"\n            src={imager.getCorporation(`${content.id}`)}\n            height=\"180\"\n            width=\"180\"\n          />\n        </Grid>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <TableContainer component={Paper}>\n            <Table aria-label=\"corporation information\">\n              <TableBody>\n\n                <TableRow>\n                  <TableCell\n                    colSpan={3}\n                    align=\"center\"\n                    className={classes.nameCell}\n                  >\n                    <Typography variant=\"h6\">{ content.name }</Typography>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Ticker:</TableCell>\n                  <TableCell>{ content.ticker }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                {content.alliance_id !== undefined &&\n                  <TableRow>\n                    <TableCell>Alliance:</TableCell>\n                    <TableCell className={classes.entityLogoCell}>\n                      <Grid container>\n                        <Grid item className={classes.entityLogoGrid}>\n                          <img\n                              src={imager.getAlliance(`${content.alliance_id}`, 64)}\n                              alt=\"alliance logo\"\n                              height={48}\n                              width={48}\n                              className={classes.entityLogoImg}\n                          />\n                        </Grid>\n                        <Grid item className={classes.entityLogoGrid}>\n                          { content.alliance_name }\n                        </Grid>\n                      </Grid>\n                    </TableCell>\n                    <TableCell align=\"right\" className={classes.buttonCell}>\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"open alliance\"\n                        component={Link}\n                        to={pathGenerator.allianceInfo(`${content.alliance_id}`)}\n                      >\n                        <ArrowRightIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>CEO:</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    <Grid container>\n                      <Grid item className={classes.entityLogoGrid}>\n                        <img\n                          src={imager.getCharacter(`${content.ceo_id}`, 64)}\n                          alt=\"character portrait\"\n                          height={48}\n                          width={48}\n                          className={classes.entityLogoImg}\n                        />\n                      </Grid>\n                      <Grid item className={classes.entityLogoGrid}>\n                        { content.ceo_name }\n                      </Grid>\n                    </Grid>\n                  </TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open character\"\n                      component={Link}\n                      to={pathGenerator.characterInfo(`${content.ceo_id}`)}\n                    >\n                      <ArrowRightIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                {content.creator_id !== 1 && // 1 when it's created manually by CCP\n                  <TableRow>\n                    <TableCell>Founder:</TableCell>\n                    <TableCell className={classes.entityLogoCell}>\n                      <Grid container>\n                        <Grid item className={classes.entityLogoGrid}>\n                          <img\n                            src={imager.getCharacter(`${content.creator_id}`, 64)}\n                            alt=\"character portrait\"\n                            height={48}\n                            width={48}\n                            className={classes.entityLogoImg}\n                          />\n                        </Grid>\n                        <Grid item className={classes.entityLogoGrid}>\n                          { content.creator_name }\n                        </Grid>\n                      </Grid>\n                    </TableCell>\n                    <TableCell align=\"right\" className={classes.buttonCell}>\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"open character\"\n                        component={Link}\n                        to={pathGenerator.characterInfo(`${content.creator_id}`)}\n                      >\n                        <ArrowRightIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>Members:</TableCell>\n                  <TableCell>{ content.member_count }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                {content.date_founded !== undefined &&\n                  <TableRow>\n                    <TableCell>Creation date:</TableCell>\n                    <TableCell>{ dateFormatter.withDateTime(new Date(content.date_founded)) }</TableCell>\n                    <TableCell align=\"right\"> </TableCell>\n                  </TableRow>\n                }\n\n                {content.faction_id !== undefined &&\n                  <TableRow>\n                    <TableCell>Faction:</TableCell>\n                    <TableCell>{ content.faction_name }</TableCell>\n                    <TableCell align=\"right\">\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"open character\"\n                        component={Link}\n                        to={pathGenerator.factionInfo(`${content.faction_id}`)}\n                      >\n                        <ArrowRightIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n\n                {content.home_station_id !== undefined &&\n                  <TableRow>\n                    <TableCell className={classes.noWrapCell}>Home station:</TableCell>\n                    <TableCell>{ content.home_station_name }</TableCell>\n                    <TableCell align=\"right\" className={classes.buttonCell}>\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"open station\"\n                        component={Link}\n                        to={pathGenerator.stationInfo(`${content.home_station_id}`)}\n                      >\n                        <ArrowRightIcon/>\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>Tax rate:</TableCell>\n                  <TableCell>{ content.tax_rate }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                {content.shares !== undefined &&\n                  <TableRow>\n                    <TableCell>Shares:</TableCell>\n                    <TableCell>{ content.shares }</TableCell>\n                    <TableCell align=\"right\"> </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>War eligible:</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    {content.war_eligible === true\n                      ? <CheckIcon className={classes.successColorText} />\n                      : <ClearIcon className={classes.errorColorText} />\n                    }\n                  </TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>ID:</TableCell>\n                  <TableCell>{ content.id }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                {content.url !== undefined &&\n                  <TableRow>\n                    <TableCell>Url:</TableCell>\n                    <TableCell style={{ overflow: \"hidden\" }}>\n                      <MUILink href={content.url} color=\"inherit\" className={classes.linkCell}>\n                        { content.url }\n                      </MUILink>\n                    </TableCell>\n                    <TableCell align=\"right\"> </TableCell>\n                  </TableRow>\n                }\n\n                {content.description !== undefined &&\n                  <TableRow>\n                    <TableCell className={classes.bioCell}>Description:</TableCell>\n                    <TableCell colSpan={2}><EntityDescription bio={content.description} /></TableCell>\n                  </TableRow>\n                }\n                </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <AllianceHistoryTable alliances={content.alliance_history} />\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  )\n}\n","import React, {useEffect, useState} from 'react';\nimport { useParams } from \"react-router-dom\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport AppBar from \"../AppBar/AppBar\";\nimport Container from \"@material-ui/core/Container\";\nimport LoadingFullPage from \"../LoadingFullPage/LoadingFullPage\";\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport ApiErrorFullPage from \"../ApiErrorFullPage/ApiErrorFullPage\";\nimport CorporationRepositoryInterface from \"../../repository/CorporationRepository/CorporationRepositoryInterface\";\nimport CorporationInfoContent from \"./CorporationInfoContent/CorporationInfoContent\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n    },\n    content: {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3),\n      [theme.breakpoints.down('xs')]: {\n        padding: 0,\n      }\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nexport default function CorporationInfo() {\n  let classes = useStyles();\n  let [apiResult, setApiResult] = useState(<LoadingFullPage />);\n  let [retry, setRetry] = useState(false);\n  let {\n    corporationRepository\n  }: {\n    corporationRepository: CorporationRepositoryInterface\n  } = useDeps();\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  useEffect(() => {\n    if (id === undefined) {\n      return;\n    }\n\n    setApiResult(<LoadingFullPage />);\n    setRetry(false);\n\n    corporationRepository.getOne(Number(id))\n      .then(data => {\n        setApiResult(\n          <CorporationInfoContent content={data} />\n        )\n      }).catch(e => {\n        setApiResult(\n          <ApiErrorFullPage\n            retry={() => setRetry(true)}\n            text={e.message}\n          />\n        );\n      });\n  }, [retry, id]);\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Corporation\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          {apiResult}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function TypeInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>type {id}</h1>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function RegionInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>region {id}</h1>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function SystemInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>system {id}</h1>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function StationInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>station {id}</h1>\n  );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {createStyles, makeStyles, Theme, useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { useDeps } from \"../../../context/DepsContext/DepsContext\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport ImagerInterface from \"../../../service/Imager/ImagerInterface\";\nimport PathGenerator from \"../../../service/PathGenerator/PathGenerator\";\nimport ClearIcon from '@material-ui/icons/Clear';\nimport CheckIcon from '@material-ui/icons/Check';\nimport RepoFactionInterface from \"../../../repository/FactionRepository/RepoFactionInterface\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonCell: {\n      paddingTop: 0,\n      paddingBottom: 0,\n      width: 0,\n    },\n    gridWithTable: {\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(3),\n      },\n    },\n    logo: {\n      textAlign: \"center\",\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(2),\n    },\n    nameCell: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n    },\n    entityLogoCell: {\n      paddingTop: 0,\n      paddingRight: 0,\n      paddingBottom: 0\n    },\n    entityLogoGrid: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    entityLogoImg: {\n      marginRight: theme.spacing(1),\n      [theme.breakpoints.down('xs')]: {\n        display: \"none\",\n      },\n    },\n    successColorText: {\n      color: theme.palette.success.main,\n    },\n    errorColorText: {\n      color: theme.palette.error.main,\n    },\n  }),\n);\n\nexport default function FactionInfoContent(\n  {\n    content\n  }: {\n    content: RepoFactionInterface\n  }\n) {\n  let classes = useStyles();\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  let {\n    imager,\n    pathGenerator,\n  }: {\n    imager: ImagerInterface,\n    pathGenerator: PathGenerator,\n  } = useDeps();\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={isSmall ? 0 : 3}>\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <TableContainer component={Paper}>\n            <Table aria-label=\"faction information\">\n              <TableBody>\n\n                <TableRow>\n                  <TableCell\n                    colSpan={3}\n                    align=\"center\"\n                    className={classes.nameCell}\n                  >\n                    <Typography variant=\"h6\">{ content.name }</Typography>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Corporation:</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    <Grid container>\n                      <Grid item className={classes.entityLogoGrid}>\n                        <img\n                          src={imager.getCorporation(`${content.corporation_id}`, 64)}\n                          alt=\"corporation logo\"\n                          height={48}\n                          width={48}\n                          className={classes.entityLogoImg}\n                        />\n                      </Grid>\n                      <Grid item className={classes.entityLogoGrid}>\n                        { content.corporation_name }\n                      </Grid>\n                    </Grid>\n                  </TableCell>\n                  <TableCell align=\"right\" className={classes.buttonCell}>\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"open corporation\"\n                      component={Link}\n                      to={pathGenerator.corporationInfo(`${content.corporation_id}`)}\n                    >\n                      <ArrowRightIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n\n                {content.militia_corporation_id !== undefined &&\n                  <TableRow>\n                    <TableCell>Militia corporation:</TableCell>\n                    <TableCell className={classes.entityLogoCell}>\n                      <Grid container>\n                        <Grid item className={classes.entityLogoGrid}>\n                          <img\n                            src={imager.getCorporation(`${content.militia_corporation_id}`, 64)}\n                            alt=\"corporation logo\"\n                            height={48}\n                            width={48}\n                            className={classes.entityLogoImg}\n                          />\n                        </Grid>\n                        <Grid item className={classes.entityLogoGrid}>\n                          { content.militia_corporation_name }\n                        </Grid>\n                      </Grid>\n                    </TableCell>\n                    <TableCell align=\"right\" className={classes.buttonCell}>\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"open militia corporation\"\n                        component={Link}\n                        to={pathGenerator.corporationInfo(`${content.militia_corporation_id}`)}\n                      >\n                        <ArrowRightIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n\n                {content.solar_system_id !== undefined &&\n                <TableRow>\n                    <TableCell>System:</TableCell>\n                    <TableCell>{content.solar_system_name}</TableCell>\n                    <TableCell align=\"right\" className={classes.buttonCell}>\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"open system\"\n                        component={Link}\n                        to={pathGenerator.systemInfo(`${content.solar_system_id}`)}\n                      >\n                        <ArrowRightIcon/>\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                }\n\n                <TableRow>\n                  <TableCell>Size factor:</TableCell>\n                  <TableCell>{ content.size_factor }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Station count:</TableCell>\n                  <TableCell>{ content.station_count }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Station system count:</TableCell>\n                  <TableCell>{ content.station_system_count }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>Unique:</TableCell>\n                  <TableCell className={classes.entityLogoCell}>\n                    {content.is_unique\n                      ? <CheckIcon className={classes.successColorText} />\n                      : <ClearIcon className={classes.errorColorText} />\n                    }\n                  </TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>ID:</TableCell>\n                  <TableCell>{ content.faction_id }</TableCell>\n                  <TableCell align=\"right\"> </TableCell>\n                </TableRow>\n\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n\n        <Grid item xs={12} md={6} className={classes.gridWithTable}>\n          <TableContainer component={Paper}>\n            <Table aria-label=\"faction description\">\n              <TableBody>\n                <TableRow>\n                  <TableCell>\n                    <Typography variant=\"h6\">Description</Typography>\n                  </TableCell>\n                </TableRow>\n\n                <TableRow>\n                  <TableCell>\n                    { content.description }\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport { useParams } from \"react-router-dom\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport AppBar from \"../AppBar/AppBar\";\nimport Container from \"@material-ui/core/Container\";\nimport LoadingFullPage from \"../LoadingFullPage/LoadingFullPage\";\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport ApiErrorFullPage from \"../ApiErrorFullPage/ApiErrorFullPage\";\nimport FactionRepositoryInterface from \"../../repository/FactionRepository/FactionRepositoryInterface\";\nimport FactionInfoContent from \"./FactionInfoContent/FactionInfoContent\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n    },\n    content: {\n      flexGrow: 1,\n      paddingTop: theme.spacing(3),\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3),\n      [theme.breakpoints.down('xs')]: {\n        padding: 0,\n      }\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nexport default function FactionInfo() {\n  let classes = useStyles();\n  let [apiResult, setApiResult] = useState(<LoadingFullPage />);\n  let [retry, setRetry] = useState(false);\n  let {\n    factionRepository\n  }: {\n    factionRepository: FactionRepositoryInterface\n  } = useDeps();\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  useEffect(() => {\n    if (id === undefined) {\n      return;\n    }\n\n    setApiResult(<LoadingFullPage />);\n    setRetry(false);\n\n    factionRepository.getOne(Number(id))\n      .then(data => {\n        setApiResult(\n          <FactionInfoContent content={data} />\n        )\n      }).catch(e => {\n      setApiResult(\n        <ApiErrorFullPage\n          retry={() => setRetry(true)}\n          text={e.message}\n        />\n      );\n    });\n  }, [retry, id]);\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Faction\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          {apiResult}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function RaceInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>race {id}</h1>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function AncestryInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>ancestry {id}</h1>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport default function BloodlineInfo() {\n  let { id } = useParams<Record<string, string | undefined>>();\n  if (id === undefined) {\n    // TODO: redirect to not found\n  }\n\n  return (\n    <h1>bloodline {id}</h1>\n);\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Button from '@material-ui/core/Button'\n\nimport {\n  enqueueSnackbar as enqueueSnackbarAction,\n  closeOne as closeOneSnackbarAction,\n  closeAll as closeAllSnackbarAction\n} from '../../feature/notifier/notifierActions';\nimport SnackbarNotificationInterface from \"../../feature/notifier/SnackbarNotificationInterface\";\n\nconst colorBlack = { color: \"black\" };\n\nconst snackbarAction = (onClickCallback: () => void) => (\n  <React.Fragment>\n    <Button style={ colorBlack }>\n      CHECK\n    </Button>\n    <Button style={ colorBlack } onClick={onClickCallback}>\n      DISMISS\n    </Button>\n  </React.Fragment>\n);\n\nexport default function Test() {\n  const dispatch = useDispatch();\n  const enqueueSnackbar = (notification: SnackbarNotificationInterface) => dispatch(enqueueSnackbarAction(notification));\n  const closeSnackbar = (key: number) => dispatch(closeOneSnackbarAction(key));\n  const closeAllSnackbar = () => dispatch(closeAllSnackbarAction());\n\n  const handleClickWarning = () => {\n    // NOTE:\n    // if you want to be able to dispatch a `closeSnackbar` action later on,\n    // you SHOULD pass your own `key` in the options. `key` can be any sequence\n    // of number or characters, but it has to be unique for a given snackbar.\n    enqueueSnackbar({\n      message: \"Warning: API health at 56%.\",\n      options: {\n        action: key => snackbarAction(() => closeSnackbar(Number(key))),\n        anchorOrigin: {\n          horizontal: \"right\",\n          vertical: \"bottom\",\n        },\n        autoHideDuration: null,\n        key: new Date().getTime() + Math.random(),\n        variant: 'warning',\n      },\n    });\n  };\n\n  const handleClickOffline = () => {\n    enqueueSnackbar({\n      message: \"EVE is offline, don't hit the API.\",\n      options: {\n        action: key => snackbarAction(() => closeSnackbar(Number(key))),\n        anchorOrigin: {\n          horizontal: \"right\",\n          vertical: \"bottom\",\n        },\n        autoHideDuration: null,\n        key: new Date().getTime() + Math.random(),\n        variant: 'error',\n      },\n    });\n  };\n\n  const handleDismissAll = () => {\n    closeAllSnackbar();\n  };\n\n  return (\n    <React.Fragment>\n      <Button variant=\"contained\" onClick={handleClickWarning}>Display low health</Button>\n      <Button variant=\"contained\" onClick={handleClickOffline}>Display offline</Button>\n      <Button variant=\"contained\" onClick={handleDismissAll}>Dismiss all snackbars</Button>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport MUIDataTable, {MUIDataTableColumnDef, MUIDataTableMeta, MUIDataTableOptions} from \"mui-datatables\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {Link} from \"react-router-dom\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nimport EsiUniverseNamesInterface from \"../../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\n\n\nconst options: MUIDataTableOptions = {\n  elevation: 1,\n  filter: false,\n  fixedHeader: false,\n  print: false,\n  responsive: \"standard\",\n  rowHover: false,\n  rowsPerPageOptions: [],\n  selectableRows: \"none\",\n  sortOrder: {\n    name: \"name\",\n    direction: 'asc'\n  },\n  viewColumns: false,\n};\n\nconst extractCorpID = (tableMeta: MUIDataTableMeta): number => {\n  return tableMeta.rowData[1];\n};\n\nconst styles = {\n  corpImg: {\n    display: \"flex\",\n  }\n};\n\nexport default function AlliancesTable(\n  {\n    alliances\n  }: {\n    alliances: EsiUniverseNamesInterface[]\n  }\n) {\n  let theme = useTheme();\n  let isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const columns: MUIDataTableColumnDef[] = [\n    {\n      name: \"name\",\n      label: \"Name\",\n      options: {\n        customHeadRender: () => null,\n      }\n    },\n    {\n      name: \"id\",\n      label: \"ID\",\n      options: {\n        customHeadRender: () => null,\n        display: false,\n      }\n    },\n    {\n      name: \"icon\",\n      label: \"\",\n      options: {\n        customHeadRender: () => null,\n        customBodyRender: (value, tableMeta, updateValue) => {\n          let id = extractCorpID(tableMeta);\n\n          return (\n            <IconButton\n              size=\"small\"\n              aria-label=\"open\"\n              component={Link}\n              to={`/alliance/${id}`}\n            >\n              <ArrowRightIcon />\n            </IconButton>\n          );\n        },\n        download: false,\n        setCellProps: () => ({ style: { width: 0, paddingTop: 0, paddingBottom: 0 }}),\n      }\n    }\n  ];\n\n  return (\n    <Container maxWidth=\"sm\" style={{ padding: 0 }}>\n      <MUIDataTable\n        title=\"\"\n        data={alliances}\n        columns={columns}\n        options={options}\n      />\n    </Container>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\n\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport AppBar from \"../AppBar/AppBar\";\nimport AllianceRepositoryInterface from \"../../repository/AllianceRepository/AllianceRepositoryInterface\";\nimport LoadingFullPage from \"../LoadingFullPage/LoadingFullPage\";\nimport AlliancesTable from \"./AlliancesTable/AlliancesTable\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: 0,\n        paddingRight: 0\n      }\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n  }),\n);\n\nfunction AllianceList() {\n  const classes = useStyles();\n  let [apiResult, setApiResult] = useState(<LoadingFullPage />);\n  let {\n    allianceRepository\n  }: {\n    allianceRepository: AllianceRepositoryInterface\n  } = useDeps();\n\n  useEffect(() => {\n    allianceRepository.getList()\n      .then(result => setApiResult(<AlliancesTable alliances={result} />))\n      .catch(e => console.error(e));  // FIXME: handle better\n  }, []);\n\n  return (\n    <React.Fragment>\n      <AppBar title=\"Alliances\" />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {apiResult}\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default AllianceList;\n","import React, { useState, useEffect } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport \"typeface-rajdhani\";\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MUISwitch from '@material-ui/core/Switch';\nimport { Route, Switch } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\n\nimport { useDeps } from \"../../context/DepsContext/DepsContext\";\nimport { changeDarkMode, setDarkMode } from \"../../feature/theme/themeActions\";\nimport { useAppDispatch } from \"../../hooks\";\nimport Home from \"../Home/Home\";\nimport Search from \"../Search/Search\";\nimport AllianceInfo from \"../AllianceInfo/AllianceInfo\";\nimport CharacterInfo from \"../CharacterInfo/CharacterInfo\";\nimport ConstellationInfo from \"../ConstellationInfo/ConstellationInfo\";\nimport CorporationInfo from \"../CorporationInfo/CorporationInfo\";\nimport TypeInfo from \"../TypeInfo/TypeInfo\";\nimport RegionInfo from \"../RegionInfo/RegionInfo\";\nimport SystemInfo from \"../SystemInfo/SystemInfo\";\nimport StationInfo from \"../StationInfo/StationInfo\";\nimport FactionInfo from \"../FactionInfo/FactionInfo\";\nimport RaceInfo from \"../RaceInfo/RaceInfo\";\nimport AncestryInfo from \"../AncestryInfo/AncestryInfo\";\nimport BloodlineInfo from \"../BloodlineInfo/BloodlineInfo\";\nimport Test from \"../Test/Test\";\nimport SettingsRepositoryInterface from \"../../repository/SettingsRepository/SettingsRepositoryInterface\";\nimport PathGenerator from \"../../service/PathGenerator/PathGenerator\";\nimport AllianceList from \"../AllianceList/AllianceList\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    drawer: {\n      [theme.breakpoints.up('lg')]: {\n        width: drawerWidth,\n        flexShrink: 0,\n      },\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: 56,\n      [theme.breakpoints.up('sm')]: {\n        minHeight: 48,\n      }\n    },\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    logoText: {\n      color: \"inherit\",\n      fontFamily: [\n        'Rajdhani',\n        'sans-serif',\n      ].join(','),\n      fontWeight: 600,\n      textDecoration: \"none\"\n    },\n    darkModeToggle: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: 48,\n    },\n    nested: {\n      paddingLeft: theme.spacing(4),\n    },\n  }),\n);\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n}\n\nexport default function ResponsiveDrawer(props: Props) {\n  const { window } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  // FIXME\n  // @ts-ignore\n  const mobileOpen = useSelector(state => state.drawer.mobileOpen);\n  // @ts-ignore\n  const darkMode = useSelector(state => state.theme.darkMode);\n  const [openListMore, setOpenListMore] = useState(true);\n  const dispatch = useAppDispatch() as any;\n  const {\n    settingsRepository,\n    pathGenerator\n  }: {\n    settingsRepository: SettingsRepositoryInterface,\n    pathGenerator: PathGenerator\n  } = useDeps();\n\n  useEffect(() => {\n    settingsRepository.getDarkMode()\n      .then(savedDarkMode => {\n        if (savedDarkMode !== darkMode) {\n          dispatch(setDarkMode(savedDarkMode, false));\n        }\n      })\n      .catch(e => console.error(e));\n  }, []);\n\n  const handleCloseDrawer = () => dispatch({type: 'drawer/mobileClose'});\n\n  const handleOpenListMore = () => setOpenListMore(!openListMore);\n\n  const darkModeToggle = (\n    <React.Fragment>\n      <Divider />\n      <FormGroup row className={classes.darkModeToggle}>\n        <FormControlLabel\n          control={\n            <MUISwitch\n              checked={darkMode}\n              //onChange={() => dispatch({type: 'theme/changeMode'})}\n              onChange={() => dispatch(changeDarkMode)}\n              name=\"checkedB\"\n              //color=\"primary\"\n              size=\"small\"\n            />\n          }\n          label=\"Dark mode\"\n        />\n      </FormGroup>\n    </React.Fragment>\n  );\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar}>\n        <Typography\n          variant=\"h4\"\n          align=\"center\"\n          className={classes.logoText}\n          component={Link}\n          onClick={handleCloseDrawer}\n          to=\"/\"\n        >\n          evelook\n        </Typography>\n      </div>\n      <Divider />\n      <List>\n        <ListItem\n          button\n          component={Link}\n          to=\"/search\"\n          onClick={handleCloseDrawer}\n        >\n          <ListItemIcon>\n            <SearchIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Advanced Search\" />\n        </ListItem>\n\n        <ListItem button onClick={handleOpenListMore}>\n          <ListItemIcon>\n            <MoreHorizIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"More\" />\n          {openListMore ? <ExpandLess /> : <ExpandMore />}\n        </ListItem>\n        <Collapse in={openListMore} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n            <ListItem\n              button\n              className={classes.nested}\n              component={Link}\n              onClick={handleCloseDrawer}\n              to={pathGenerator.allianceList()}\n            >\n              <ListItemIcon>\n                <SubdirectoryArrowRightIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Alliances\" />\n            </ListItem>\n          </List>\n        </Collapse>\n\n      </List>\n      {\n        darkModeToggle\n      }\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden lgUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n            open={mobileOpen}\n            onClose={handleCloseDrawer}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden mdDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <Switch>\n        <Route exact path={pathGenerator.base.home}>\n          <Home />\n        </Route>\n        <Route exact path={pathGenerator.base.search}>\n          <Search />\n        </Route>\n        <Route path={pathGenerator.base.allianceInfo}>\n          <AllianceInfo />\n        </Route>\n        <Route path={pathGenerator.base.allianceList}>\n          <AllianceList />\n        </Route>\n        <Route path={pathGenerator.base.ancestryInfo}>\n          <AncestryInfo />\n        </Route>\n        <Route path={pathGenerator.base.bloodlineInfo}>\n          <BloodlineInfo />\n        </Route>\n        <Route path={pathGenerator.base.characterInfo}>\n          <CharacterInfo />\n        </Route>\n        <Route path={pathGenerator.base.constellationInfo}>\n          <ConstellationInfo />\n        </Route>\n        <Route path={pathGenerator.base.corporationInfo}>\n          <CorporationInfo />\n        </Route>\n        <Route path={pathGenerator.base.typeInfo}>\n          <TypeInfo />\n        </Route>\n        <Route path={pathGenerator.base.raceInfo}>\n          <RaceInfo />\n        </Route>\n        <Route path={pathGenerator.base.regionInfo}>\n          <RegionInfo />\n        </Route>\n        <Route path={pathGenerator.base.systemInfo}>\n          <SystemInfo />\n        </Route>\n        <Route path={pathGenerator.base.stationInfo}>\n          <StationInfo />\n        </Route>\n        <Route path={pathGenerator.base.factionInfo}>\n          <FactionInfo />\n        </Route>\n        <Route path={pathGenerator.base.test}>\n          <Test />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n","import React  from \"react\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport Notifier from \"../Notifier/Notifier\";\nimport Dashboard from \"../Dashboard/Dashboard\";\n\nconst theme = (darkMode: boolean) => createMuiTheme({\n  palette: {\n    primary: {\n      main: '#263238',\n    },\n    secondary: {\n      main: '#607d8b',\n    },\n    type: darkMode ? 'dark' : 'light',\n  },\n});\n\nfunction MyApp() {\n  // @ts-ignore\n  const darkMode = useSelector(state => state.theme.darkMode);\n\n  return (\n    <ThemeProvider theme={theme(darkMode)}>\n      <CssBaseline />\n      <Notifier />\n      <Dashboard />\n    </ThemeProvider>\n  );\n}\n\nexport default MyApp;\n","import EsiClientInterface from \"./EsiClientInterface\";\nimport EsiErrorManagerInterface from \"../EsiErrorManager/EsiErrorManagerInterface\";\nimport Query from \"../QueryFactory/Query\";\n\nclass EsiClient implements EsiClientInterface {\n  public readonly baseUrl = \"https://esi.evetech.net\";\n  private readonly _userAgent = \"evelook\";\n  private readonly _fetchClient;\n  private readonly _esiErrorManager;\n\n  constructor(\n    fetchClient: (\n      input: RequestInfo,\n      init?: RequestInit\n    ) => Promise<Response>,\n    esiErrorManager: EsiErrorManagerInterface\n  ) {\n    this._fetchClient = fetchClient;\n    this._esiErrorManager = esiErrorManager;\n  }\n\n  /**\n   * @throws Error On network error or broken error window.\n   */\n  public async getResponse(\n    endUrl: string,\n    method: \"GET\" | \"POST\" | \"DELETE\" | \"PUT\",\n    query: Query | null = null,\n    body: object | null = null\n  ): Promise<Response> {\n    if (this._esiErrorManager.isErrorWindowBroken()) {\n      throw new Error(\"Aborting, too many errors.\");\n    }\n\n    let headers = {\n      \"X-User-Agent\": this._userAgent,\n    };\n\n    let options: RequestInit = {\n      method: method,\n      cache: \"default\",\n      headers: headers\n    };\n\n    let uri = `${this.baseUrl}${endUrl}`;\n    if (query !== null && !query.isEmpty()) {\n      uri = uri.concat(`?${query.toString()}`);\n    }\n\n    if (body !== null) {\n      options[\"body\"] = JSON.stringify(body);\n    }\n\n    let response = await this._fetchClient(uri, options);\n    this._esiErrorManager.saveErrorWindowInfo(response.headers);\n    if (!response.ok) {\n      if (response.status === 420) {  // We are error limited\n        this._esiErrorManager.flagWindowAsBroken();\n      } else {\n        this._esiErrorManager.incrementError();\n      }\n    }\n\n    return response;\n  }\n}\n\nexport default EsiClient;\n","import EsiErrorManagerInterface from \"./EsiErrorManagerInterface\";\n\nclass EsiErrorManager implements EsiErrorManagerInterface {\n  private _errorReset = Date.now() + 60000;\n  private _errorRemain = 100;\n\n  public isErrorWindowBroken(): boolean {\n    if (this._errorReset < Date.now()) {\n      this._resetErrorWindow();\n    }\n\n    return this._errorRemain <= 1;\n  }\n\n  public incrementError(): void {\n    this._errorRemain--;\n  }\n\n  public saveErrorWindowInfo(headers: Headers): void {\n    let limitReset = headers.get(\"x-esi-error-limit-reset\");\n    let limitRemain = headers.get(\"x-esi-error-limit-remain\");\n    if (limitReset === null || limitRemain === null) {\n      return;\n    }\n\n    let headerErrorReset = Number(limitReset);\n    let headerErrorRemain = Number(limitRemain);\n\n    this._errorReset = Date.now() + (headerErrorReset * 1000);\n    if (headerErrorRemain < this._errorRemain) {\n      this._errorRemain = headerErrorRemain;\n    }\n  }\n\n  public flagWindowAsBroken(): void {\n    this._errorRemain = 0;\n  }\n\n  private _resetErrorWindow(): void {\n    this._errorReset = Date.now() + 60000;\n    this._errorRemain = 100;\n  }\n}\n\nexport default EsiErrorManager;\n","import QueryDictionaryInterface from \"./QueryDictionaryInterface\";\n\nclass Query  {\n  private readonly _spaceDelimiter;\n  private _query: QueryDictionaryInterface = {};\n\n  constructor(spaceDelimiter: string = \",\") {\n    this._spaceDelimiter = spaceDelimiter;\n  }\n\n  add(attribute: string, values: string[]): void {\n    this._query[attribute] = values;\n  }\n\n  isEmpty(): boolean {\n    return Object.keys(this._query).length === 0;\n  }\n\n  toString(): string {\n    let queryString = \"\";\n\n    for (let attribute in this._query) {\n      if (!this._query.hasOwnProperty(attribute)) {\n        continue;\n      }\n\n      if (queryString.length > 0) {\n        queryString = queryString.concat(\"&\");\n      }\n\n      let values = \"\";\n      this._query[attribute].forEach((value, index) => {\n        if (index > 0) {\n          values = values.concat(this._spaceDelimiter);\n        }\n\n        values = values.concat(encodeURIComponent(value));\n      });\n\n      queryString = queryString.concat(`${attribute}=${values}`);\n    }\n\n    return queryString;\n  }\n}\n\nexport default Query;\n","import Query from \"./Query\";\n\nclass QueryFactory {\n  public make(): Query {\n    return new Query();\n  }\n}\n\nexport default QueryFactory;\n","class EsiError extends Error {\n  constructor(response: Response) {\n    super(`Esi error code ${response.status}: ${response.statusText}`);\n  }\n}\n\nexport default EsiError;\n","import EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiStatusInterface from \"./EsiStatusInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\nimport StatusCallInterface from \"./StatusCallInterface\";\n\nclass StatusCall implements StatusCallInterface{\n  private readonly _esiClient;\n  private readonly _url = \"/v2/status/\";\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  async get(): Promise<EsiStatusInterface> {\n    let response = await this._esiClient.getResponse(this._url, \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n}\n\nexport default StatusCall;\n","import UniverseNamesCallInterface from \"./UniverseNamesCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\nimport EsiUniverseNamesInterface from \"./EsiUniverseNamesInterface\";\n\nclass UniverseNamesCall implements UniverseNamesCallInterface {\n  private readonly _esiClient;\n  private readonly _url = \"/v3/universe/names/\";\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  async get(ids: number[]): Promise<EsiUniverseNamesInterface[]> {\n    let response = await this._esiClient.getResponse(\n      this._url,\n      \"POST\",\n      null,\n      ids\n    );\n\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n}\n\nexport default UniverseNamesCall;\n","import AllianceListCallInterface from \"./AllianceListCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass AllianceListCall implements AllianceListCallInterface {\n  private readonly _esiClient;\n  private readonly _url = \"/v2/alliances/\";\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  async get(): Promise<number[]> {\n    let response = await this._esiClient.getResponse(this._url, \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n}\n\nexport default AllianceListCall;\n","import AllianceInfoCallInterface from \"./AllianceInfoCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\nimport EsiAllianceInfoInterface from \"./EsiAllianceInfoInterface\";\n\nclass AllianceInfoCall implements AllianceInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  async get(id: number): Promise<EsiAllianceInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v4/alliances/${id}/`;\n  }\n}\n\nexport default AllianceInfoCall;\n","import NameRepositoryInterface from \"./NameRepositoryInterface\";\nimport UniverseNamesCallInterface from \"../../service/Call/UniverseNamesCall/UniverseNamesCallInterface\";\nimport EsiUniverseNamesInterface from \"../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\n\nclass NameRepository implements NameRepositoryInterface {\n  private readonly _universeNamesCaller;\n\n  constructor(universeNamesCaller: UniverseNamesCallInterface) {\n    this._universeNamesCaller = universeNamesCaller;\n  }\n\n  public async resolveGeneric(ids: number[]): Promise<EsiUniverseNamesInterface[]> {\n    this._removeBannedIDs(ids);\n\n    let allResolvedIDs: EsiUniverseNamesInterface[] = [];\n    let failuresCount = 0;\n    let maxAllowedFailures = 20;\n\n    let chunks: number[][] = [];\n    while (ids.length > 0) {\n      chunks.push(ids.splice(0, 999));\n    }\n\n    for (let chunk of chunks) {\n      if (failuresCount >= maxAllowedFailures) {\n        throw new Error(\"\");  // TODO\n      }\n\n      try {\n        let localResolvedIDs = await this._universeNamesCaller.get(chunk);\n        allResolvedIDs = allResolvedIDs.concat(localResolvedIDs);\n      } catch (e) {\n        failuresCount++;\n\n        if (chunk.length > 1) {\n          // We split the chunk in half for retries\n          chunks.push(chunk.splice(0, Math.round(chunk.length / 2)));\n          chunks.push(chunk);\n        }\n      }\n    }\n\n    return allResolvedIDs;\n  }\n\n  private _removeBannedIDs(ids: number[]): void {\n    let index = ids.indexOf(1);\n    if (index !== -1) {\n      ids.splice(index, 1);\n    }\n  }\n}\n\nexport default NameRepository;\n","import AllianceCorporationsCallInterface from \"./AllianceCorporationsCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass AllianceCorporationsCall implements AllianceCorporationsCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  async get(id: number): Promise<number[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v2/alliances/${id}/corporations/`;\n  }\n}\n\nexport default AllianceCorporationsCall;\n","import EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiPublicSearchInterface from \"./EsiPublicSearchInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\nimport QueryFactoryInterface from \"../../QueryFactory/QueryFactoryInterface\";\nimport PublicSearchCallInterface from \"./PublicSearchCallInterface\";\nimport EsiCategory from \"./EsiCategory\";\n\nclass PublicSearchCall implements PublicSearchCallInterface {\n  private readonly _esiClient;\n  private readonly _queryFactory;\n  private readonly _url = \"/v2/search/\";\n\n  constructor(\n    esiClient: EsiClientInterface,\n    queryFactory: QueryFactoryInterface\n  ) {\n    this._esiClient = esiClient;\n    this._queryFactory = queryFactory;\n  }\n\n  /**\n   * @throws Error\n   */\n  async get(\n    searchString: string,\n    categories: EsiCategory[],\n    strict?: boolean\n  ): Promise<EsiPublicSearchInterface> {\n    let query = this._queryFactory.make();\n    query.add(\"search\", [searchString]);\n    query.add(\"categories\", categories);\n    if (strict !== undefined) {\n      query.add(\"strict\", [String(strict)]);\n    }\n\n    let response = await this._esiClient.getResponse(this._url, \"GET\", query);\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n}\n\nexport default PublicSearchCall;\n","import AllianceListCallInterface from \"../../service/Call/AllianceListCall/AllianceListCallInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport AllianceRepositoryInterface from \"./AllianceRepositoryInterface\";\nimport AllianceInfoCallInterface from \"../../service/Call/AllianceInfoCall/AllianceInfoCallInterface\";\nimport RepoAllianceInterface from \"./RepoAllianceInterface\";\nimport AllianceCorporationsCallInterface\n  from \"../../service/Call/AllianceCorporationsCall/AllianceCorporationsCallInterface\";\nimport EsiUniverseNamesInterface from \"../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\n\nclass AllianceRepository implements AllianceRepositoryInterface {\n  private readonly _allianceListCall;\n  private readonly _allianceInfoCall;\n  private readonly _allianceCorpsCall;\n  private readonly _nameRepo;\n\n  constructor(\n    allianceListCall: AllianceListCallInterface,\n    allianceInfoCall: AllianceInfoCallInterface,\n    allianceCorpsCall: AllianceCorporationsCallInterface,\n    nameRepo: NameRepositoryInterface\n  ) {\n    this._allianceListCall = allianceListCall;\n    this._allianceInfoCall = allianceInfoCall;\n    this._allianceCorpsCall = allianceCorpsCall;\n    this._nameRepo = nameRepo;\n  }\n\n  public async getOne(id: number): Promise<RepoAllianceInterface> {\n    let [\n      esiAlliance,\n      esiAllianceCorps\n    ] = await Promise.all([\n      this._allianceInfoCall.get(id),\n      this._allianceCorpsCall.get(id)\n    ]);\n\n    let repoAlliance: RepoAllianceInterface = {\n      ...esiAlliance,\n      id: id,\n      creator_corporation_name: \"#error\",\n      creator_name: \"#error\",\n      executor_corporation_name: undefined,\n      faction_name: undefined,\n      corporations: {}\n    };\n\n    let {\n      creator_corporation_id,\n      creator_id,\n      executor_corporation_id,\n      faction_id\n    } = esiAlliance;\n    let idsToResolve: number[] = [];\n    this._pushUnique(idsToResolve, creator_corporation_id);\n    this._pushUnique(idsToResolve, creator_id);\n    if (executor_corporation_id !== undefined) {\n      this._pushUnique(idsToResolve, executor_corporation_id);\n    }\n    if (faction_id !== undefined) {\n      this._pushUnique(idsToResolve, faction_id);\n    }\n\n    let [\n      allianceNames,\n      corpsNames\n    ] = await Promise.all([\n      this._nameRepo.resolveGeneric(idsToResolve),\n      this._nameRepo.resolveGeneric(esiAllianceCorps)\n    ]);\n\n    allianceNames.forEach(resolvedName => {\n      let { id, name } = resolvedName;\n      if (id === creator_corporation_id) {\n        repoAlliance.creator_corporation_name = name;\n      }\n      if (id === creator_id) {\n        repoAlliance.creator_name = name;\n      }\n      if (id === executor_corporation_id) {\n        repoAlliance.executor_corporation_name = name;\n      }\n      if (id === faction_id) {\n        repoAlliance.faction_name = name;\n      }\n    });\n\n    corpsNames.forEach(corpName => {\n      repoAlliance.corporations[corpName.id] = corpName.name;\n    });\n\n    return repoAlliance;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getList(): Promise<EsiUniverseNamesInterface[]> {\n    let allianceIDs = await this._allianceListCall.get();\n    let names = await this._nameRepo.resolveGeneric(allianceIDs);\n\n    let resolvedIDs: number[] = [];\n    names.forEach(({id}) => resolvedIDs.push(id));\n\n    allianceIDs.forEach(id => {\n      if (!resolvedIDs.includes(id)) {\n        names.push({\n          category: \"alliance\",\n          id: id,\n          name: `UNRESOLVED#${id}`\n        });\n      }\n    });\n\n    return names;\n  }\n\n  private _pushUnique(inputArray: number[], value: number): number[] {\n    if (!inputArray.includes(value)) {\n      inputArray.push(value);\n    }\n\n    return inputArray;\n  }\n}\n\nexport default AllianceRepository;\n","const categoriesForType = [\"agent\", \"alliance\", \"character\", \"constellation\", \"corporation\", \"faction\", \"inventory_type\", \"region\", \"solar_system\", \"station\"] as const;\ntype EsiCategory = typeof categoriesForType[number];\nconst esiCategories: EsiCategory[] = [\"agent\", \"alliance\", \"character\", \"constellation\", \"corporation\", \"faction\", \"inventory_type\", \"region\", \"solar_system\", \"station\"];\n\nexport default EsiCategory;\nexport { esiCategories };","import SearchRepositoryInterface from \"./SearchRepositoryInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport PublicSearchCallInterface from \"../../service/Call/PublicSearchCall/PublicSearchCallInterface\";\nimport RepoCategory from \"./RepoCategory\";\nimport EsiCategory, {esiCategories} from \"../../service/Call/PublicSearchCall/EsiCategory\";\nimport EsiUniverseNamesInterface from \"../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\nimport ResultWithLinkInterface from \"./ResulWithLinkInterface\";\nimport {MutableRefObject} from \"react\";\nimport PathGenerator from \"../../service/PathGenerator/PathGenerator\";\n\n\nexport type AutocompleteCache = { [key: string]: ResultWithLinkInterface[] };\n\nclass SearchRepository implements SearchRepositoryInterface {\n  private readonly _nameRepo;\n  private readonly _publicSearchCall;\n  private readonly _pathGenerator;\n\n  constructor(\n    nameRepo: NameRepositoryInterface,\n    publicSearchCall: PublicSearchCallInterface,\n    pathGenerator: PathGenerator\n  ) {\n    this._nameRepo = nameRepo;\n    this._publicSearchCall = publicSearchCall;\n    this._pathGenerator = pathGenerator;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async publicSearch(\n    searchString: string,\n    category: RepoCategory,\n    strict: boolean\n  ): Promise<ResultWithLinkInterface[]> {\n    let categoriesForCall: EsiCategory[];\n    if (category === \"all\") {\n      categoriesForCall = esiCategories;\n    } else {\n      categoriesForCall = [category];\n    }\n    let search = await this._publicSearchCall.get(searchString, categoriesForCall, strict);\n\n    let ids: number[] = [];\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (let [key, value] of Object.entries(search)) {\n      ids = ids.concat(value);\n    }\n    let names = await this._nameRepo.resolveGeneric(ids);\n\n    return this._composeResult(names);\n  }\n\n  public async forAutocomplete(\n    searchString: string,\n    category: RepoCategory,\n    cacheRef: MutableRefObject<AutocompleteCache>\n  ): Promise<ResultWithLinkInterface[]> {\n    if (cacheRef.current.hasOwnProperty(searchString)) {\n      return cacheRef.current[searchString];\n    }\n\n    let categoriesForCall: EsiCategory[];\n    if (category === \"all\") {\n      categoriesForCall = esiCategories;\n    } else {\n      categoriesForCall = [category];\n    }\n    let search = await this._publicSearchCall.get(searchString, categoriesForCall, false);\n\n    let ids: number[] = [];\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (let [key, value] of Object.entries(search)) {\n      ids = ids.concat(value);\n    }\n\n    let uniNames = await this._nameRepo.resolveGeneric(ids);\n    let justNames: EsiUniverseNamesInterface[] = [];\n    let lowercaseSearchString = searchString.toLowerCase();\n    uniNames.forEach(uniName => {\n      let { name } = uniName;\n      if (name.toLowerCase().startsWith(lowercaseSearchString)) {\n        justNames.push(uniName);\n      }\n    });\n\n    let orderedNames = justNames.sort((a, b) => a.name.length - b.name.length);\n    let result = this._composeResult(orderedNames);\n\n    cacheRef.current = {\n      ...cacheRef.current,\n      [searchString]: result\n    };\n\n    return result;\n  }\n\n  private _composeResult(names: EsiUniverseNamesInterface[]): ResultWithLinkInterface[] {\n    let result: ResultWithLinkInterface[] = [];\n    names.forEach(name => {\n      let prettyCategory;\n      let link;\n      switch (name.category) {\n        case \"alliance\":\n          prettyCategory = \"Alliance\";\n          link = this._pathGenerator.allianceInfo(`${name.id}`)\n          break;\n        case \"character\":\n          prettyCategory = \"Character\";\n          link = this._pathGenerator.characterInfo(`${name.id}`)\n          break;\n        case \"constellation\":\n          prettyCategory = \"Constellation\";\n          //link = \"/constellation/\";\n          link = null;\n          break;\n        case \"corporation\":\n          prettyCategory = \"Corporation\";\n          link = this._pathGenerator.corporationInfo(`${name.id}`);\n          break;\n        case \"inventory_type\":\n          prettyCategory = \"Item\";\n          //link = \"/type/\";\n          link = null;\n          break;\n        case \"region\":\n          prettyCategory = \"Region\";\n          //link = \"/region/\";\n          link = null;\n          break;\n        case \"solar_system\":\n          prettyCategory = \"System\";\n          //link = \"/system/\";\n          link = null;\n          break;\n        case \"station\":\n          prettyCategory = \"Station\";\n          //link = \"/station/\";\n          link = null\n          break;\n        case \"faction\":\n          prettyCategory = \"Faction\";\n          link = this._pathGenerator.factionInfo(`${name.id}`);\n          break;\n        default:\n          prettyCategory = name.category;\n          link = null;\n      }\n\n      result.push({\n        ...name,\n        prettyCategory: prettyCategory,\n        link: link\n      });\n    });\n\n    return result;\n  }\n}\n\nexport default SearchRepository;\n","import CharacterInfoCallInterface from \"./CharacterInfoCallInterface\";\nimport EsiCharacterInfoInterface from \"./EsiCharacterInfoInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass CharacterInfoCall implements CharacterInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(id: number): Promise<EsiCharacterInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v4/characters/${id}/`;\n  }\n}\n\nexport default CharacterInfoCall;\n","import ConstellationInfoCallInterface from \"./ConstellationInfoCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiConstellationInfoInterface from \"./EsiConstellationInfoInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass ConstellationInfoCall implements ConstellationInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  public async get(id: number): Promise<EsiConstellationInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v1/universe/constellations/${id}/`;\n  }\n}\n\nexport default ConstellationInfoCall;\n","import CorporationInfoCallInterface from \"./CorporationInfoCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiCorporationInfoInterface from \"./EsiCorporationInfoInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass CorporationInfoCall implements CorporationInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(id: number): Promise<EsiCorporationInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v5/corporations/${id}/`;\n  }\n}\n\nexport default CorporationInfoCall;\n","import TypeInfoCallInterface from \"./TypeInfoCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiTypeInfoInterface from \"./EsiTypeInfoInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass TypeInfoCall implements TypeInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(id: number): Promise<EsiTypeInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v3/universe/types/${id}/`;\n  }\n}\n\nexport default TypeInfoCall;\n","import RegionInfoCallInterface from \"./RegionInfoCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiRegionInfoInterface from \"./EsiRegionInfoInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass RegionInfoCall implements RegionInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(id: number): Promise<EsiRegionInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v1/universe/regions/${id}/`;\n  }\n}\n\nexport default RegionInfoCall;\n","import SystemInfoCallInterface from \"./SystemInfoCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiSystemInfoInterface from \"./EsiSystemInfoInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass SystemInfoCall implements SystemInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(id: number): Promise<EsiSystemInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v4/universe/systems/${id}/`;\n  }\n}\n\nexport default SystemInfoCall;\n","import StationInfoCallInterface from \"./StationInfoCallInterface\";\nimport EsiStationInfoInterface from \"./EsiStationInfoInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass StationInfoCall implements StationInfoCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  public async get(id: number): Promise<EsiStationInfoInterface> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v2/universe/stations/${id}/`;\n  }\n}\n\nexport default StationInfoCall;\n","import FactionCallInterface from \"./FactionCallInterface\";\nimport EsiFactionInterface from \"./EsiFactionInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass FactionCall implements FactionCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(): Promise<EsiFactionInterface[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(): string {\n    return `/v2/universe/factions/`;\n  }\n}\n\nexport default FactionCall;\n","import AncestryCallInterface from \"./AncestryCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiAncestryInterface from \"./EsiAncestryInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass AncestryCall implements AncestryCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(): Promise<EsiAncestryInterface[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(): string {\n    return `/v1/universe/ancestries/`;\n  }\n}\n\nexport default AncestryCall;\n","import BloodlineCallInterface from \"./BloodlineCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiBloodlineInterface from \"./EsiBloodlineInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass BloodlineCall implements BloodlineCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(): Promise<EsiBloodlineInterface[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(): string {\n    return `/v1/universe/bloodlines/`;\n  }\n}\n\nexport default BloodlineCall;\n","import AncestryRepositoryInterface from \"./AncestryRepositoryInterface\";\nimport EsiAncestryInterface from \"../../service/Call/AncestryCall/EsiAncestryInterface\";\nimport AncestryCallInterface from \"../../service/Call/AncestryCall/AncestryCallInterface\";\n\nclass AncestryRepository implements AncestryRepositoryInterface {\n  private readonly _ancestryCall;\n\n  constructor(ancestryCall: AncestryCallInterface) {\n    this._ancestryCall = ancestryCall;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getName(id: number): Promise<string> {\n    let ancestries = await this._ancestryCall.get();\n    let foundAncestry: EsiAncestryInterface | null = null;\n    for (let ancestry of ancestries) {\n      if (ancestry.id === id) {\n        foundAncestry = ancestry;\n        break;\n      }\n    }\n\n    if (foundAncestry === null) {\n      throw new Error(\"Ancestry not found\");\n    }\n\n    return foundAncestry.name;\n  }\n}\n\nexport default AncestryRepository;\n","import EsiUniverseNamesInterface from \"../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\n\nabstract class AbstractRepository {\n  protected _pushUnique(inputArray: number[], value: number): number[] {\n    if (!inputArray.includes(value)) {\n      inputArray.push(value);\n    }\n\n    return inputArray;\n  }\n\n  protected _orderNamesByID(\n    names: EsiUniverseNamesInterface[]\n  ): {\n    [key: string]: EsiUniverseNamesInterface\n  } {\n    let orderedNames: {[key: string]: EsiUniverseNamesInterface} = {};\n    names.forEach(name => {\n      orderedNames[String(name.id)] = name;\n    });\n\n    return orderedNames;\n  }\n}\n\nexport default AbstractRepository;\n","import BloodlineRepositoryInterface from \"./BloodlineRepositoryInterface\";\nimport BloodlineCallInterface from \"../../service/Call/BloodlineCall/BloodlineCallInterface\";\nimport EsiBloodlineInterface from \"../../service/Call/BloodlineCall/EsiBloodlineInterface\";\nimport RepoBloodlineInterface from \"./RepoBloodlineInterface\";\nimport RaceRepositoryInterface from \"../RaceRepository/RaceRepositoryInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport AbstractRepository from \"../AbstractRepository/AbstractRepository\";\nimport EsiUniverseNamesInterface from \"../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\n\nclass BloodlineRepository extends AbstractRepository implements BloodlineRepositoryInterface {\n  private readonly _bloodlineCall;\n  private readonly _raceRepo;\n  private readonly _nameRepo;\n\n  constructor(\n    bloodlineCall: BloodlineCallInterface,\n    raceRepo: RaceRepositoryInterface,\n    nameRepo: NameRepositoryInterface\n  ) {\n    super();\n    this._bloodlineCall = bloodlineCall;\n    this._raceRepo = raceRepo;\n    this._nameRepo = nameRepo;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getAll(): Promise<RepoBloodlineInterface[]> {\n    return [];\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getOne(id: number): Promise<RepoBloodlineInterface> {\n    let foundBloodline = await this._getEsiBloodline(id);\n    let {\n      race_id,\n      corporation_id,\n      ship_type_id\n    } = foundBloodline;\n\n    let raceNamePromise = this._raceRepo.getName(race_id);\n\n    let idsToResolve = this._getIDsToResolve([foundBloodline]);\n    let indexedNames: {[key: string]: EsiUniverseNamesInterface} = {};\n    if (idsToResolve.length > 0) {\n      indexedNames = this._orderNamesByID(await this._nameRepo.resolveGeneric(idsToResolve));\n    }\n\n    let ship_type_name = undefined;\n    if (ship_type_id !== undefined && ship_type_id !== null) {\n      ship_type_name = indexedNames[ship_type_id].name ?? \"#error\";\n    }\n\n    return {\n      ...foundBloodline,\n      corporation_name: indexedNames[corporation_id].name ?? \"#error\",\n      race_name: await raceNamePromise,\n      ship_type_name: ship_type_name\n    }\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getName(id: number): Promise<string> {\n    let foundBloodline = await this._getEsiBloodline(id);\n\n    return foundBloodline.name;\n  }\n\n  private _getIDsToResolve(bloodlines: EsiBloodlineInterface[]): number[] {\n    let idsToResolve: number[] = [];\n\n    bloodlines.forEach(bloodline => {\n      let {\n        corporation_id,\n        ship_type_id\n      } = bloodline;\n      this._pushUnique(idsToResolve, corporation_id);\n      if (ship_type_id !== undefined && ship_type_id !== null) {\n        this._pushUnique(idsToResolve, ship_type_id);\n      }\n    });\n\n    return idsToResolve;\n  }\n\n  /**\n   * @throws Error\n   */\n  private async _getEsiBloodline(id: number): Promise<EsiBloodlineInterface> {\n    let bloodlines = await this._bloodlineCall.get();\n    let foundBloodline: EsiBloodlineInterface | null = null;\n    for (let bloodline of bloodlines) {\n      if (bloodline.bloodline_id === id) {\n        foundBloodline = bloodline;\n        break;\n      }\n    }\n\n    if (foundBloodline === null) {\n      throw new Error(\"Bloodline not found\");\n    }\n\n    return foundBloodline;\n  }\n}\n\nexport default BloodlineRepository;\n","import CharacterRepositoryInterface from \"./CharacterRepositoryInterface\";\nimport RepoCharacterInterface from \"./RepoCharacterInterface\";\nimport AncestryRepositoryInterface from \"../AncestryRepository/AncestryRepositoryInterface\";\nimport CharacterInfoCallInterface from \"../../service/Call/CharacterInfoCall/CharacterInfoCallInterface\";\nimport BloodlineRepositoryInterface from \"../BloodlineRepository/BloodlineRepositoryInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport RaceRepositoryInterface from \"../RaceRepository/RaceRepositoryInterface\";\nimport CharacterCorpHistoryCallInterface\n  from \"../../service/Call/CharacterCorpHistoryCall/CharacterCorpHistoryCallInterface\";\nimport RepoCharacterCorpHistoryInterface from \"./RepoCharacterCorpHistoryInterface\";\n\nclass CharacterRepository implements CharacterRepositoryInterface {\n  private readonly _characterInfoCall;\n  private readonly _characterCorpHistoryCall;\n  private readonly _ancestryRepo;\n  private readonly _bloodlineRepo;\n  private readonly _nameRepo;\n  private readonly _raceRepo;\n\n  constructor(\n    characterInfoCall: CharacterInfoCallInterface,\n    characterCorpHistoryCall: CharacterCorpHistoryCallInterface,\n    ancestryRepo: AncestryRepositoryInterface,\n    bloodlineRepo: BloodlineRepositoryInterface,\n    nameRepo: NameRepositoryInterface,\n    raceRepo: RaceRepositoryInterface\n  ) {\n    this._characterInfoCall = characterInfoCall;\n    this._characterCorpHistoryCall = characterCorpHistoryCall;\n    this._ancestryRepo = ancestryRepo;\n    this._bloodlineRepo = bloodlineRepo;\n    this._nameRepo = nameRepo;\n    this._raceRepo = raceRepo;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getOne(id: number): Promise<RepoCharacterInterface> {\n    let [\n      esiChar,\n      repoCorpHistory\n    ] = await Promise.all([\n      this._characterInfoCall.get(id),\n      this._getCorpHistory(id)\n    ]);\n\n    let repoChar: RepoCharacterInterface = {\n      ...esiChar,\n      alliance_name: esiChar.alliance_id === undefined ? undefined : \"#error\",\n      ancestry_name: esiChar.ancestry_id === undefined ? undefined : \"#error\",\n      bloodline_name: \"#error\",\n      corporation_name: \"#name\",\n      faction_name: esiChar.faction_id === undefined ? undefined : \"#error\",\n      race_name: \"#error\",\n      id: id,\n      corporation_history: repoCorpHistory\n    }\n\n    let {\n      alliance_id,\n      ancestry_id,\n      bloodline_id,\n      corporation_id,\n      faction_id,\n      race_id\n    } = esiChar;\n    let idsToResolve: number[] = [];\n    idsToResolve.push(corporation_id);\n    if (alliance_id !== undefined) {\n      idsToResolve.push(alliance_id);\n    }\n    if (faction_id !== undefined) {\n      idsToResolve.push(faction_id);\n    }\n\n    let ancestryPromise = null; // Because ancestry is optional\n    if (ancestry_id !== undefined) {\n      ancestryPromise = this._ancestryRepo.getName(ancestry_id);\n    }\n    let bloodlinePromise = this._bloodlineRepo.getName(bloodline_id);\n    let namesPromise = this._nameRepo.resolveGeneric(idsToResolve);\n    let racePromise = this._raceRepo.getName(race_id);\n\n    if (ancestryPromise !== null) {\n      try {\n        repoChar.ancestry_name = await ancestryPromise;\n      } catch (e) {\n        // Intentionally left blank, it's a call of secondary importance\n      }\n    }\n    try {\n      repoChar.bloodline_name = await bloodlinePromise;\n    } catch (e) {\n      // Intentionally left blank, it's a call of secondary importance\n    }\n    try {\n      repoChar.race_name = await racePromise;\n    } catch (e) {\n      // Intentionally left blank, it's a call of secondary importance\n    }\n    try {\n      let charNames = await namesPromise;\n      charNames.forEach(resolvedName => {\n        let { id, name } = resolvedName;\n        if (id === corporation_id) {\n          repoChar.corporation_name = name;\n        }\n        if (id === alliance_id) {\n          repoChar.alliance_name = name;\n        }\n        if (id === faction_id) {\n          repoChar.faction_name = name;\n        }\n      });\n    } catch (e) {\n      // Intentionally left blank, it's a call of secondary importance\n    }\n\n    return repoChar;\n  }\n\n  private async _getCorpHistory(id: number): Promise<RepoCharacterCorpHistoryInterface[]> {\n    let corpHistory = await this._characterCorpHistoryCall.get(id);\n    let idsToResolve: number[] = [];\n    corpHistory.forEach(corp => {\n      if (corp.is_deleted === undefined || !corp.is_deleted) {\n        idsToResolve = this._pushUnique(idsToResolve, corp.corporation_id);\n      }\n    });\n\n    let names = await this._nameRepo.resolveGeneric(idsToResolve);\n    let repoCorpHistory: RepoCharacterCorpHistoryInterface[] = [];\n    corpHistory.forEach(corp => {\n      let { corporation_id } = corp;\n      let foundName = `#${corporation_id}`;\n      for (let name of names) {\n        if (name.id === corporation_id) {\n          foundName = name.name;\n          break;\n        }\n      }\n\n      repoCorpHistory.push({\n        ...corp,\n        corporation_name: foundName\n      });\n    });\n\n    return repoCorpHistory;\n  }\n\n  private _pushUnique(inputArray: number[], value: number): number[] {\n    if (!inputArray.includes(value)) {\n      inputArray.push(value);\n    }\n\n    return inputArray;\n  }\n}\n\nexport default CharacterRepository;\n","import RaceCallInterface from \"./RaceCallInterface\";\nimport EsiRaceInterface from \"./EsiRaceInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass RaceCall implements RaceCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async get(): Promise<EsiRaceInterface[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(): string {\n    return `/v1/universe/races/`;\n  }\n}\n\nexport default RaceCall;\n","import RaceRepositoryInterface from \"./RaceRepositoryInterface\";\nimport RaceCallInterface from \"../../service/Call/RaceCall/RaceCallInterface\";\nimport EsiRaceInterface from \"../../service/Call/RaceCall/EsiRaceInterface\";\nimport RepoRaceInterface from \"./RepoRaceInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport AbstractRepository from \"../AbstractRepository/AbstractRepository\";\nimport FactionRepositoryInterface from \"../FactionRepository/FactionRepositoryInterface\";\n\nclass RaceRepository extends AbstractRepository implements RaceRepositoryInterface {\n  private readonly _raceCall;\n  private readonly _nameRepo;\n  private readonly _factionRepo;\n\n  constructor(\n    raceCall: RaceCallInterface,\n    nameRepo: NameRepositoryInterface,\n    factionRepo: FactionRepositoryInterface\n  ) {\n    super();\n    this._raceCall = raceCall;\n    this._nameRepo = nameRepo;\n    this._factionRepo = factionRepo;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getAll(): Promise<RepoRaceInterface[]> {\n    let esiRaces = await this._raceCall.get();\n    let idsToResolve: number[] = [];\n    let repoRaces: RepoRaceInterface[] = [];\n    esiRaces.forEach(esiRace => {\n      this._pushUnique(idsToResolve, esiRace.alliance_id);\n      repoRaces.push({\n        ...esiRace,\n        alliance_name: \"#error\",\n      });\n    });\n\n    let names = this._orderNamesByID(await this._nameRepo.resolveGeneric(idsToResolve));\n    repoRaces.forEach(repoRace => {\n      if (names[String(repoRace.alliance_id)] !== undefined) {\n        repoRace.alliance_name = names[String(repoRace.alliance_id)].name;\n      }\n    });\n\n    return repoRaces;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getOne(id: number): Promise<RepoRaceInterface> {\n    let foundRace = await this._getEsiRace(id);\n\n    return {\n      ...foundRace,\n      alliance_name: await this._factionRepo.getName(foundRace.alliance_id)\n    };\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getName(id: number): Promise<string> {\n    let foundRace = await this._getEsiRace(id);\n\n    return foundRace.name;\n  }\n\n  /**\n   * @throws Error\n   */\n  private async _getEsiRace(id: number): Promise<EsiRaceInterface> {\n    let races = await this._raceCall.get();\n    let foundRace: EsiRaceInterface | null = null;\n    for (let race of races) {\n      if (race.race_id === id) {\n        foundRace = race;\n        break;\n      }\n    }\n\n    if (foundRace === null) {\n      throw new Error(\"Race not found\");\n    }\n\n    return foundRace;\n  }\n}\n\nexport default RaceRepository;\n","import CharacterCorpHistoryCallInterface from \"./CharacterCorpHistoryCallInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiCharacterCorpHistoryInterface from \"./EsiCharacterCorpHistoryInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass CharacterCorpHistoryCall implements CharacterCorpHistoryCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  public async get(id: number): Promise<EsiCharacterCorpHistoryInterface[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v1/characters/${id}/corporationhistory/`;\n  }\n}\n\nexport default CharacterCorpHistoryCall;\n","import DateFormatterInterface from \"./DateFormatterInterface\";\n\nclass DateFormatter implements DateFormatterInterface {\n  public withDateTime(date: Date): string {\n    let yyyy = `${date.getUTCFullYear()}`;\n    let mm = this.toStringWithLeadingZero(date.getUTCMonth() + 1);\n    let dd = this.toStringWithLeadingZero(date.getUTCDate());\n    let hr = this.toStringWithLeadingZero(date.getUTCHours());\n    let min = this.toStringWithLeadingZero(date.getUTCMinutes());\n    let sec = this.toStringWithLeadingZero(date.getUTCSeconds());\n\n    return `${yyyy}.${mm}.${dd} ${hr}:${min}:${sec}`;\n  }\n\n  public onlyDate(date: Date): string {\n    let yyyy = `${date.getUTCFullYear()}`;\n    let mm = this.toStringWithLeadingZero(date.getUTCMonth() + 1);\n    let dd = this.toStringWithLeadingZero(date.getUTCDate());\n\n    return `${yyyy}.${mm}.${dd}`;\n  }\n\n  private toStringWithLeadingZero(value: number): string {\n    if (value < 10) {\n      return `0${value}`;\n    }\n\n    return `${value}`;\n  }\n}\n\nexport default DateFormatter;\n","import CorporationAllianceHistoryCallInterface from \"./CorporationAllianceHistoryCallInterface\";\nimport EsiCorporationAllianceHistoryInterface from \"./EsiCorporationAllianceHistoryInterface\";\nimport EsiClientInterface from \"../../EsiClient/EsiClientInterface\";\nimport EsiError from \"../../../error/EsiError/EsiError\";\n\nclass CorporationAllianceHistoryCall implements CorporationAllianceHistoryCallInterface {\n  private readonly _esiClient;\n\n  constructor(esiClient: EsiClientInterface) {\n    this._esiClient = esiClient;\n  }\n\n  public async get(id: number): Promise<EsiCorporationAllianceHistoryInterface[]> {\n    let response = await this._esiClient.getResponse(this._getUrl(id), \"GET\");\n    if (!response.ok) {\n      throw new EsiError(response);\n    }\n\n    return response.json();\n  }\n\n  private _getUrl(id: number): string {\n    return `/v3/corporations/${id}/alliancehistory/`;\n  }\n}\n\nexport default CorporationAllianceHistoryCall;\n","import CorporationRepositoryInterface from \"./CorporationRepositoryInterface\";\nimport RepoCorporationInterface from \"./RepoCorporationInterface\";\nimport CorporationInfoCallInterface from \"../../service/Call/CorporationInfoCall/CorporationInfoCallInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport CorporationAllianceHistoryCallInterface\n  from \"../../service/Call/CorporationAllianceHistoryCall/CorporationAllianceHistoryCallInterface\";\nimport RepoCorpAllianceHistoryInterface from \"./RepoCorpAllianceHistoryInterface\";\n\nclass CorporationRepository implements CorporationRepositoryInterface {\n  private readonly _corpInfoCall;\n  private readonly _corpAllianceHistoryCall;\n  private readonly _nameRepo;\n\n  constructor(\n    corpInfoCall: CorporationInfoCallInterface,\n    corpAllianceHistoryCall: CorporationAllianceHistoryCallInterface,\n    nameRepo: NameRepositoryInterface\n  ) {\n    this._corpInfoCall = corpInfoCall;\n    this._corpAllianceHistoryCall = corpAllianceHistoryCall;\n    this._nameRepo = nameRepo;\n  }\n\n  public async getOne(id: number): Promise<RepoCorporationInterface> {\n    let [\n      esiCorp,\n      allianceHistory\n    ] = await Promise.all([\n      this._corpInfoCall.get(id),\n      this.getAllianceHistory(id)\n    ]);\n\n    let repoCorp: RepoCorporationInterface = {\n      ...esiCorp,\n      alliance_name: undefined,\n      ceo_name: \"#error\",\n      creator_name: \"#error\",\n      faction_name: undefined,\n      home_station_name: undefined,\n      alliance_history: allianceHistory,\n      id: id,\n    };\n\n    let {\n      alliance_id,\n      ceo_id,\n      creator_id,\n      faction_id,\n      home_station_id\n    } = esiCorp;\n    let idsToResolve: number[] = [];\n    this._pushUnique(idsToResolve, ceo_id);\n    this._pushUnique(idsToResolve, creator_id);\n    if (alliance_id !== undefined) {\n      this._pushUnique(idsToResolve, alliance_id);\n    }\n    if (faction_id !== undefined) {\n      this._pushUnique(idsToResolve, faction_id);\n    }\n    if (home_station_id !== undefined) {\n      this._pushUnique(idsToResolve, home_station_id);\n    }\n\n    let corpNames = await this._nameRepo.resolveGeneric(idsToResolve);\n    corpNames.forEach(resolvedName => {\n      let { id, name } = resolvedName;\n\n      if (id === alliance_id) {\n        repoCorp.alliance_name = name;\n      }\n      if (id === ceo_id) {\n        repoCorp.ceo_name = name;\n      }\n      if (id === creator_id) {\n        repoCorp.creator_name = name;\n      }\n      if (id === faction_id) {\n        repoCorp.faction_name = name;\n      }\n      if (id === home_station_id) {\n        repoCorp.home_station_name = name;\n      }\n    });\n\n    return repoCorp;\n  }\n\n  public async getAllianceHistory(id: number): Promise<RepoCorpAllianceHistoryInterface[]> {\n    let corpHistory = await this._corpAllianceHistoryCall.get(id);\n\n    let idsToResolve: number[] = [];\n    let recordIDs: number[] = [];\n    let indexedCorpHistory: { [key: string]: RepoCorpAllianceHistoryInterface } = {};\n    corpHistory.forEach(record => {\n      let allianceNamePlaceholder = undefined;\n      if (record.alliance_id !== undefined) {\n        idsToResolve = this._pushUnique(idsToResolve, record.alliance_id);\n        allianceNamePlaceholder = \"#error\";\n      }\n      recordIDs.push(record.record_id);\n      indexedCorpHistory[record.record_id] = {\n        ...record,\n        end_date: undefined,\n        alliance_name: allianceNamePlaceholder,\n      };\n    });\n    let names = await this._nameRepo.resolveGeneric(idsToResolve);\n\n    let historyToReturn: RepoCorpAllianceHistoryInterface[] = [];\n    recordIDs.sort((a, b) => a - b);\n    for (let i = 0; i < recordIDs.length; i++) {\n      let id = recordIDs[i];\n\n      // Add alliance name, if the record has the id\n      if (indexedCorpHistory[id].alliance_id !== undefined) {\n        for (let name of names) {\n          if (name.id === indexedCorpHistory[id].alliance_id) {\n            indexedCorpHistory[id].alliance_name = name.name;\n            break;\n          }\n        }\n      }\n\n      // Add end date, if the current record is an alliance, and the following is not\n      if (\n        indexedCorpHistory[id].alliance_id !== undefined\n        && i < recordIDs.length - 1\n        && indexedCorpHistory[recordIDs[i + 1]].alliance_id === undefined\n      ) {\n        indexedCorpHistory[id].end_date = indexedCorpHistory[recordIDs[i + 1]].start_date;\n      }\n\n      // Add to the elements to return if it's an alliance\n      if (indexedCorpHistory[id].alliance_id !== undefined) {\n        historyToReturn.unshift(indexedCorpHistory[id]);\n      }\n    }\n\n    return historyToReturn;\n  }\n\n  private _pushUnique(inputArray: number[], value: number): number[] {\n    if (!inputArray.includes(value)) {\n      inputArray.push(value);\n    }\n\n    return inputArray;\n  }\n}\n\nexport default CorporationRepository;\n","import FactionRepositoryInterface from \"./FactionRepositoryInterface\";\nimport RepoFactionInterface from \"./RepoFactionInterface\";\nimport AbstractRepository from \"../AbstractRepository/AbstractRepository\";\nimport FactionCallInterface from \"../../service/Call/FactionCall/FactionCallInterface\";\nimport NameRepositoryInterface from \"../NameRepository/NameRepositoryInterface\";\nimport EsiUniverseNamesInterface from \"../../service/Call/UniverseNamesCall/EsiUniverseNamesInterface\";\nimport EsiFactionInterface from \"../../service/Call/FactionCall/EsiFactionInterface\";\n\nclass FactionRepository extends AbstractRepository implements FactionRepositoryInterface {\n  private readonly _factionCall;\n  private readonly _nameRepo;\n\n  constructor(\n    factionCall: FactionCallInterface,\n    nameRepo: NameRepositoryInterface\n  ) {\n    super();\n    this._factionCall = factionCall;\n    this._nameRepo = nameRepo;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getAll(): Promise<RepoFactionInterface[]> {\n    let esiFactions = await this._factionCall.get();\n    let idsToResolve: number[] = this._getIDsToResolve(esiFactions);\n    let indexedNames: {[key: string]: EsiUniverseNamesInterface} = {}\n    if (idsToResolve.length > 0) {\n      indexedNames = this._orderNamesByID(await this._nameRepo.resolveGeneric(idsToResolve));\n    }\n\n    let repoFactions: RepoFactionInterface[] = [];\n    esiFactions.forEach(esiFaction => {\n      repoFactions.push(this._assembleRepoFaction(esiFaction, indexedNames));\n    });\n\n    return repoFactions;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getOne(id: number): Promise<RepoFactionInterface> {\n    let foundFaction = await this._getEsiFaction(id);\n\n    let idsToResolve = this._getIDsToResolve([foundFaction]);\n    let indexedNames: {[key: string]: EsiUniverseNamesInterface} = {}\n    if (idsToResolve.length > 0) {\n      indexedNames = this._orderNamesByID(await this._nameRepo.resolveGeneric(idsToResolve));\n    }\n\n    return this._assembleRepoFaction(foundFaction, indexedNames);\n  }\n\n  /**\n   * @throws Error\n   */\n  public async getName(id: number): Promise<string> {\n    let foundFaction = await this._getEsiFaction(id);\n\n    return foundFaction.name;\n  }\n\n  /**\n   * @throws Error\n   */\n  private async _getEsiFaction(id: number): Promise<EsiFactionInterface> {\n    let esiFactions = await this._factionCall.get();\n    let foundFaction: EsiFactionInterface | null = null;\n    for (let esiFaction of esiFactions) {\n      if (esiFaction.faction_id === id) {\n        foundFaction = esiFaction;\n        break;\n      }\n    }\n    if (foundFaction === null) {\n      throw new Error(\"Faction not found\");\n    }\n\n    return foundFaction;\n  }\n\n  private _getIDsToResolve(factions: EsiFactionInterface[]): number[] {\n    let idsToResolve: number[] = [];\n\n    factions.forEach(faction => {\n      let {\n        corporation_id,\n        militia_corporation_id,\n        solar_system_id\n      } = faction;\n      if (corporation_id !== undefined) {\n        this._pushUnique(idsToResolve, corporation_id);\n      }\n      if (militia_corporation_id !== undefined) {\n        this._pushUnique(idsToResolve, militia_corporation_id);\n      }\n      if (solar_system_id !== undefined) {\n        this._pushUnique(idsToResolve, solar_system_id);\n      }\n    });\n\n    return idsToResolve;\n  }\n\n  private _assembleRepoFaction(\n    esiFaction: EsiFactionInterface,\n    indexedNames: {[key: string]: EsiUniverseNamesInterface}\n  ): RepoFactionInterface {\n    let {\n      corporation_id,\n      militia_corporation_id,\n      solar_system_id\n    } = esiFaction;\n\n    let corporation_name = undefined;\n    let militia_corporation_name = undefined;\n    let solar_system_name = undefined;\n\n    if (corporation_id !== undefined) {\n      corporation_name = indexedNames[corporation_id].name ?? \"#error\";\n    }\n    if (militia_corporation_id !== undefined) {\n      militia_corporation_name = indexedNames[militia_corporation_id].name ?? \"#error\";\n    }\n    if (solar_system_id !== undefined) {\n      solar_system_name = indexedNames[solar_system_id].name ?? \"#error\";\n    }\n\n    return {\n      ...esiFaction,\n      corporation_name: corporation_name,\n      militia_corporation_name: militia_corporation_name,\n      solar_system_name: solar_system_name\n    };\n  }\n}\n\nexport default FactionRepository;\n","import RSSRepositoryInterface from \"./RSSRepositoryInterface\";\nimport RSSFeedEntryInterface from \"./RSSFeedEntryInterface\";\n\nclass RSSRepository implements RSSRepositoryInterface {\n  public async getEveNewsFeed(): Promise<RSSFeedEntryInterface[]> {\n    return this._fetch(\"https://www.eveonline.com/rss/json/news\");\n  }\n\n  public async getDevBlogsFeed(): Promise<RSSFeedEntryInterface[]> {\n    return this._fetch(\"https://www.eveonline.com/rss/json/dev-blogs\");\n  }\n\n  public async getPatchNotesFeed(): Promise<RSSFeedEntryInterface[]> {\n    return this._fetch(\"https://www.eveonline.com/rss/json/patch-notes\");\n  }\n\n  private async _fetch(url: string): Promise<RSSFeedEntryInterface[]> {\n    let response = await fetch(\n      url,\n      {\n        cache: \"default\",\n      }\n    );\n\n    return response.json();\n  }\n}\n\nexport default RSSRepository;\n","import StatusRepositoryInterface from \"./StatusRepositoryInterface\";\nimport StatusCallInterface from \"../../service/Call/StatusCall/StatusCallInterface\";\n\nclass StatusRepository implements StatusRepositoryInterface {\n  private readonly _statusCall;\n\n  constructor(statusCall: StatusCallInterface) {\n    this._statusCall = statusCall;\n  }\n\n  /**\n   * @throws Error\n   */\n  public async isEveOnline(): Promise<boolean> {\n    let status = await this._statusCall.get();\n\n    return status.players > 100;\n  }\n}\n\nexport default StatusRepository;\n","import EntityManagerInterface from \"./EntityManagerInterface\";\nimport MigrationInterface from \"./Migration/MigrationInterface\";\n\nclass EntityManager implements EntityManagerInterface {\n  private _migrations: MigrationInterface[]\n\n  constructor(\n    migrations: MigrationInterface[]\n  ) {\n    this._migrations = migrations;\n  }\n\n  public async getConnection(): Promise<IDBDatabase> {\n    let dbName = \"evelook\";\n    let versions = [0, 1];\n\n    return new Promise((resolve, reject) => {\n      let dbReq = indexedDB.open(dbName, 1);\n\n      dbReq.onupgradeneeded = event => {\n        versions.forEach(version => {\n          if (event.oldVersion < version) {\n            this._migrations.forEach(migration => {\n              migration.run(dbReq.result, version);\n            });\n          }\n        });\n      };\n\n      dbReq.onsuccess = () => {\n        resolve(dbReq.result);\n\n        return;\n      };\n\n      dbReq.onblocked = () => {\n        reject(\"Database version can't be upgraded because the app is open somewhere else.\");\n      }\n\n      dbReq.onerror = () => {\n        let error = dbReq.error;\n        let message = \"Error opening database\";\n        if (error !== null) {\n          message += `: ${error.code} ${error.message} ${error.name}`;\n        }\n        reject(message);\n\n        return;\n      };\n    });\n  }\n}\n\nexport default EntityManager;\n","import MigrationInterface from \"./MigrationInterface\";\n\nclass MarketOrdersMigration implements MigrationInterface {\n  public run(db: IDBDatabase, version: number): void {\n    if (version < 1) {\n      let store = db.createObjectStore(\n        \"market_orders\",\n        {\n          keyPath: \"order_id\",\n          autoIncrement: false\n        }\n      );\n      store.createIndex(\"by_region\", \"region_id\");\n    }\n  }\n}\n\nexport default MarketOrdersMigration;\n","import MigrationInterface from \"./MigrationInterface\";\n\nclass SettingsMigration implements MigrationInterface {\n  public run(db: IDBDatabase, version: number): void {\n    if (version <= 1) {\n      let store = db.createObjectStore(\n        \"settings\",\n        {\n          keyPath: \"name\",\n          autoIncrement: false\n        }\n      );\n      store.add({ name: \"dark_mode\", value: false });\n    }\n  }\n}\n\nexport default SettingsMigration;\n","import EntityManagerInterface from \"../EntityManagerInterface\";\nimport BaseTable from \"./BaseTable\";\nimport SettingsTableInterface from \"./SettingsTableInterface\";\n\nclass SettingsTable extends BaseTable implements SettingsTableInterface {\n  public readonly name = \"settings\";\n\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(\n    em: EntityManagerInterface\n  ) {\n    super(em);\n  }\n}\n\nexport default SettingsTable;\n","import EntityManagerInterface from \"../EntityManagerInterface\";\nimport BaseTableInterface from \"./BaseTableInterface\";\n\nabstract class BaseTable implements BaseTableInterface {\n  abstract name: string;\n  private _em: EntityManagerInterface;\n\n  protected constructor(\n    em: EntityManagerInterface\n  ) {\n    this._em = em;\n  }\n\n  public async addOne(value: any, key?: any): Promise<void> {\n    return this.addMany([{value, key}]);\n  }\n\n  public async addMany(items: [{value: any, key?: any}]): Promise<void> {\n    let transaction = await this._getReadwriteTransaction();\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      items.forEach(item => {\n        if (item.key === undefined) {\n          store.add(item.value);\n        } else {\n          store.add(item.value, item.key);\n        }\n      });\n\n      // \"oncomplete\" fires after all transaction completed successfully,\n      // unlike \"onsuccess\" which fires when some transaction may still fail\n      // after the event.\n      transaction.oncomplete = () => {\n        resolve();\n      };\n\n      transaction.onerror = () => {\n        reject(this._getErrorMessage(transaction.error));\n      };\n    });\n  }\n\n  public async clear(): Promise<void> {\n    let transaction = await this._getReadwriteTransaction();\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      store.clear();\n\n      transaction.oncomplete = () => {\n        resolve();\n      }\n\n      transaction.onerror = () => {\n        reject(this._getErrorMessage(transaction.error));\n      };\n    });\n  }\n\n  // TODO: also in index\n  public async count(key?: IDBValidKey | IDBKeyRange): Promise<number> {\n    let transaction = await this._getReadonlyTransaction();\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      let request = store.count(key);\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      }\n\n      request.onerror = () => {\n        reject(this._getErrorMessage(request.error));\n      }\n    });\n  }\n\n  public async delete(key: IDBValidKey | IDBKeyRange): Promise<void> {\n    let transaction = await this._getReadwriteTransaction();\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      store.delete(key);\n\n      transaction.oncomplete = () => {\n        resolve();\n      }\n\n      transaction.onerror = () => {\n        reject(this._getErrorMessage(transaction.error));\n      };\n    });\n  }\n\n  public async getOne<T>(key: IDBValidKey): Promise<T | undefined> {\n    return await this._get(key) as T;\n  }\n\n  public async getRange<T>(keyRange: IDBKeyRange): Promise<T[] | undefined> {\n    return await this._get(keyRange) as T[];\n  }\n\n  // fixme\n  public async getAll(): Promise<void> {\n    let transaction = await this._getReadonlyTransaction();\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      store.getAll()\n      // fixme continue here\n    });\n  }\n\n  public async putOne<T>(value: T, key?: IDBValidKey): Promise<void> {\n    return this.putMany([{ value, key }]);\n  }\n\n  public async putMany<T>(items: [{ value: T, key?: IDBValidKey }]): Promise<void> {\n    let transaction = await this._getReadwriteTransaction()\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      items.forEach(item => {\n        if (item.key === undefined) {\n          store.put(item.value);\n        } else {\n          store.put(item.value, item.key);\n        }\n      });\n\n      // \"oncomplete\" fires after all transaction completed successfully,\n      // unlike \"onsuccess\" which fires when some transaction may still fail\n      // after the event.\n      transaction.oncomplete = () => {\n        resolve();\n      };\n\n      transaction.onerror = () => {\n        reject(this._getErrorMessage(transaction.error));\n      };\n    });\n  }\n\n  private async _get<T>(query: IDBValidKey | IDBKeyRange): Promise<T|T[]> {\n    let transaction = await this._getReadonlyTransaction();\n\n    return new Promise((resolve, reject) => {\n      let store = this._getObjectStore(transaction);\n      let request = store.get(query);\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      }\n\n      transaction.onerror = () => {\n        reject(this._getErrorMessage(transaction.error));\n      };\n    });\n  }\n\n  private async _getReadonlyTransaction(): Promise<IDBTransaction> {\n    let connection = await this._em.getConnection();\n\n    return connection.transaction([this.name], \"readonly\");\n  }\n\n  private async _getReadwriteTransaction(): Promise<IDBTransaction> {\n    let connection = await this._em.getConnection();\n\n    return connection.transaction([this.name], \"readwrite\");\n  }\n\n  private _getObjectStore(transaction: IDBTransaction): IDBObjectStore {\n    return transaction.objectStore(this.name);\n  }\n\n  private _getErrorMessage(error: DOMException | null): string {\n    let message = \"Database error\";\n    if (error !== null) {\n      message = `Error: ${error.code} ${error.message} ${error.name}`;\n    }\n\n    return message;\n  }\n};\n\nexport default BaseTable;\n","export const KEY_DARK_MODE = \"dark_mode\";\n\ninterface SettingsStoreInterface {\n  name: typeof KEY_DARK_MODE,\n  value: any\n}\n\nexport default SettingsStoreInterface;\n","import SettingsRepositoryInterface from \"./SettingsRepositoryInterface\";\nimport SettingsTableInterface from \"../../service/EntityManager/Table/SettingsTableInterface\";\nimport SettingsStoreInterface, { KEY_DARK_MODE } from \"../../service/EntityManager/Store/SettingsStoreInterface\";\n\nclass SettingsRepository implements SettingsRepositoryInterface {\n  private _settingsTable;\n\n  constructor(settingsTable: SettingsTableInterface) {\n    this._settingsTable = settingsTable;\n  }\n\n  public async getDarkMode(): Promise<boolean> {\n    let item = await this._settingsTable.getOne<SettingsStoreInterface>(KEY_DARK_MODE);\n    if (item === undefined) {\n      return false;\n    }\n\n    return item.value;\n  }\n\n  public async setDarkMode(value: boolean): Promise<void> {\n    await this._settingsTable.putOne<SettingsStoreInterface>({ name: KEY_DARK_MODE, value: value });\n  }\n}\n\nexport default SettingsRepository;\n","import EsiProxyInterface from \"./EsiProxyInterface\";\nimport EsiErrorManagerInterface from \"../EsiErrorManager/EsiErrorManagerInterface\";\n\n/**\n * This class is used as a proxy for \"fetch\" inside the service worker, to keep\n * track globally (even if multiple tabs are open) of the error window.\n */\nclass EsiProxy implements EsiProxyInterface {\n  private readonly _fetchClient;\n  private readonly _esiErrorManager;\n\n  constructor(\n    fetchClient: (\n      input: RequestInfo,\n      init?: RequestInit\n    ) => Promise<Response>,\n    esiErrorManager: EsiErrorManagerInterface\n  ) {\n    this._fetchClient = fetchClient;\n    this._esiErrorManager = esiErrorManager;\n  }\n\n  public async getResponse(\n    request: Request\n  ): Promise<Response> {\n    if (this._esiErrorManager.isErrorWindowBroken()) {\n      return new Response(\n        null,\n        {\n          status: 420,\n          statusText: \"Error window broken, request blocked by service worker\"\n        }\n      );\n    }\n\n    // Default response, this will be returned in case of network error.\n    let response = new Response(\n      null,\n      {\n        status: 502,\n        statusText: \"Network error inside the service worker\"\n      }\n    );\n\n    try {\n      response = await this._fetchClient(request);\n      this._esiErrorManager.saveErrorWindowInfo(response.headers);\n      if (!response.ok) {\n        if (response.status === 420) {  // We are error limited\n          this._esiErrorManager.flagWindowAsBroken();\n        } else {\n          this._esiErrorManager.incrementError();\n        }\n      }\n    } catch(e) {\n      this._esiErrorManager.incrementError();\n    }\n\n    return response;\n  }\n}\n\nexport default EsiProxy;\n","// Intentionally not using an interface\nclass PathGenerator {\n  public readonly base = {\n    allianceList: \"/alliance/\",\n    allianceInfo: \"/alliance/:id\",\n    ancestryInfo: \"/ancestry/:id\",\n    bloodlineInfo: \"/bloodline/:id\",\n    characterInfo: \"/character/:id\",\n    constellationInfo: \"/constellation/:id\",\n    corporationInfo: \"/corporation/:id\",\n    factionInfo: \"/faction/:id\",\n    home: \"/\",\n    raceInfo: \"/race/:id\",\n    regionInfo: \"/region/:id\",\n    search: \"/search\",\n    systemInfo: \"/system/:id\",\n    stationInfo: \"/station/:id\",\n    test: \"/test\",\n    typeInfo: \"/type/:id\",\n  };\n  private readonly _idPlaceholder = \":id\";\n\n  public allianceInfo(id: string): string {\n    return this.base.allianceInfo.replace(this._idPlaceholder, id);\n  }\n\n  public allianceList(): string {\n    return this.base.allianceList;\n  }\n\n  public ancestryInfo(id: string): string {\n    return this.base.ancestryInfo.replace(this._idPlaceholder, id);\n  }\n\n  public bloodlineInfo(id: string): string {\n    return this.base.bloodlineInfo.replace(this._idPlaceholder, id);\n  }\n\n  public characterInfo(id: string): string {\n    return this.base.characterInfo.replace(this._idPlaceholder, id);\n  }\n\n  public corporationInfo(id: string): string {\n    return this.base.corporationInfo.replace(this._idPlaceholder, id);\n  }\n\n  public factionInfo(id: string): string {\n    return this.base.factionInfo.replace(this._idPlaceholder, id);\n  }\n\n  public raceInfo(id: string): string {\n    return this.base.raceInfo.replace(this._idPlaceholder, id);\n  }\n\n  public systemInfo(id: string): string {\n    return this.base.systemInfo.replace(this._idPlaceholder, id);\n  }\n\n  public stationInfo(id: string): string {\n    return this.base.stationInfo.replace(this._idPlaceholder, id);\n  }\n}\n\nexport default PathGenerator;\n","import ImagerInterface, { SupportedSizes } from \"./ImagerInterface\";\n\n\nclass Imager implements ImagerInterface {\n  private readonly _baseUrl = \"https://images.evetech.net/\";\n\n  getAlliance(id: string, size: SupportedSizes | null = null): string {\n    return `${this._baseUrl}alliances/${id}/logo${this._getQuery(size)}`;\n  }\n\n  getCharacter(id: string, size: SupportedSizes | null = null): string {\n    return `${this._baseUrl}characters/${id}/portrait${this._getQuery(size)}`;\n  }\n\n  getCorporation(id: string, size: SupportedSizes | null = null): string {\n    return `${this._baseUrl}corporations/${id}/logo${this._getQuery(size)}`;\n  }\n\n  getTypeIcon(id: string, size: SupportedSizes | null = null): string {\n    return `${this._baseUrl}type/${id}/icon${this._getQuery(size)}`;\n  }\n\n  getTypeRender(id: string, size: SupportedSizes | null = null): string {\n    return `${this._baseUrl}type/${id}/render${this._getQuery(size)}`;\n  }\n\n  private _getQuery(size: SupportedSizes | null): string {\n    return size === null ? \"\" : `?size=${size}`;\n  }\n}\n\nexport default Imager;\n","import EsiClient from \"../EsiClient/EsiClient\";\nimport EsiErrorManagerInterface from \"../EsiErrorManager/EsiErrorManagerInterface\";\nimport EsiErrorManager from \"../EsiErrorManager/EsiErrorManager\";\nimport QueryFactoryInterface from \"../QueryFactory/QueryFactoryInterface\";\nimport QueryFactory from \"../QueryFactory/QueryFactory\";\nimport StatusCall from \"../Call/StatusCall/StatusCall\";\nimport StatusCallInterface from \"../Call/StatusCall/StatusCallInterface\";\nimport UniverseNamesCallInterface from \"../Call/UniverseNamesCall/UniverseNamesCallInterface\";\nimport UniverseNamesCall from \"../Call/UniverseNamesCall/UniverseNamesCall\";\nimport AllianceListCallInterface from \"../Call/AllianceListCall/AllianceListCallInterface\";\nimport AllianceListCall from \"../Call/AllianceListCall/AllianceListCall\";\nimport AllianceInfoCallInterface from \"../Call/AllianceInfoCall/AllianceInfoCallInterface\";\nimport AllianceInfoCall from \"../Call/AllianceInfoCall/AllianceInfoCall\";\nimport NameRepositoryInterface from \"../../repository/NameRepository/NameRepositoryInterface\";\nimport NameRepository from \"../../repository/NameRepository/NameRepository\";\nimport AllianceCorporationsCallInterface from \"../Call/AllianceCorporationsCall/AllianceCorporationsCallInterface\";\nimport AllianceCorporationsCall from \"../Call/AllianceCorporationsCall/AllianceCorporationsCall\";\nimport PublicSearchCallInterface from \"../Call/PublicSearchCall/PublicSearchCallInterface\";\nimport PublicSearchCall from \"../Call/PublicSearchCall/PublicSearchCall\";\nimport AllianceRepositoryInterface from \"../../repository/AllianceRepository/AllianceRepositoryInterface\";\nimport AllianceRepository from \"../../repository/AllianceRepository/AllianceRepository\";\nimport SearchRepositoryInterface from \"../../repository/SearchRepository/SearchRepositoryInterface\";\nimport SearchRepository from \"../../repository/SearchRepository/SearchRepository\";\nimport CharacterInfoCallInterface from \"../Call/CharacterInfoCall/CharacterInfoCallInterface\";\nimport CharacterInfoCall from \"../Call/CharacterInfoCall/CharacterInfoCall\";\nimport ConstellationInfoCallInterface from \"../Call/ConstellationInfoCall/ConstellationInfoCallInterface\";\nimport ConstellationInfoCall from \"../Call/ConstellationInfoCall/ConstellationInfoCall\";\nimport CorporationInfoCall from \"../Call/CorporationInfoCall/CorporationInfoCall\";\nimport TypeInfoCallInterface from \"../Call/TypeInfoCall/TypeInfoCallInterface\";\nimport TypeInfoCall from \"../Call/TypeInfoCall/TypeInfoCall\";\nimport RegionInfoCallInterface from \"../Call/RegionInfoCall/RegionInfoCallInterface\";\nimport RegionInfoCall from \"../Call/RegionInfoCall/RegionInfoCall\";\nimport SystemInfoCallInterface from \"../Call/SystemInfoCall/SystemInfoCallInterface\";\nimport SystemInfoCall from \"../Call/SystemInfoCall/SystemInfoCall\";\nimport StationInfoCall from \"../Call/StationInfoCall/StationInfoCall\";\nimport StationInfoCallInterface from \"../Call/StationInfoCall/StationInfoCallInterface\";\nimport FactionCallInterface from \"../Call/FactionCall/FactionCallInterface\";\nimport CorporationInfoCallInterface from \"../Call/CorporationInfoCall/CorporationInfoCallInterface\";\nimport FactionCall from \"../Call/FactionCall/FactionCall\";\nimport AncestryCallInterface from \"../Call/AncestryCall/AncestryCallInterface\";\nimport AncestryCall from \"../Call/AncestryCall/AncestryCall\";\nimport BloodlineCallInterface from \"../Call/BloodlineCall/BloodlineCallInterface\";\nimport BloodlineCall from \"../Call/BloodlineCall/BloodlineCall\";\nimport AncestryRepositoryInterface from \"../../repository/AncestryRepository/AncestryRepositoryInterface\";\nimport AncestryRepository from \"../../repository/AncestryRepository/AncestryRepository\";\nimport BloodlineRepositoryInterface from \"../../repository/BloodlineRepository/BloodlineRepositoryInterface\";\nimport BloodlineRepository from \"../../repository/BloodlineRepository/BloodlineRepository\";\nimport CharacterRepository from \"../../repository/CharacterRepository/CharacterRepository\";\nimport CharacterRepositoryInterface from \"../../repository/CharacterRepository/CharacterRepositoryInterface\";\nimport RaceCallInterface from \"../Call/RaceCall/RaceCallInterface\";\nimport RaceCall from \"../Call/RaceCall/RaceCall\";\nimport RaceRepositoryInterface from \"../../repository/RaceRepository/RaceRepositoryInterface\";\nimport RaceRepository from \"../../repository/RaceRepository/RaceRepository\";\nimport CharacterCorpHistoryCallInterface from \"../Call/CharacterCorpHistoryCall/CharacterCorpHistoryCallInterface\";\nimport CharacterCorpHistoryCall from \"../Call/CharacterCorpHistoryCall/CharacterCorpHistoryCall\";\nimport DateFormatterInterface from \"../DateFormatter/DateFormatterInterface\";\nimport DateFormatter from \"../DateFormatter/DateFormatter\";\nimport CorporationAllianceHistoryCallInterface\n  from \"../Call/CorporationAllianceHistoryCall/CorporationAllianceHistoryCallInterface\";\nimport CorporationAllianceHistoryCall from \"../Call/CorporationAllianceHistoryCall/CorporationAllianceHistoryCall\";\nimport CorporationRepositoryInterface from \"../../repository/CorporationRepository/CorporationRepositoryInterface\";\nimport CorporationRepository from \"../../repository/CorporationRepository/CorporationRepository\";\nimport FactionRepositoryInterface from \"../../repository/FactionRepository/FactionRepositoryInterface\";\nimport FactionRepository from \"../../repository/FactionRepository/FactionRepository\";\nimport RSSRepositoryInterface from \"../../repository/RSSRepository/RSSRepositoryInterface\";\nimport RSSRepository from \"../../repository/RSSRepository/RSSRepository\";\nimport StatusRepositoryInterface from \"../../repository/StatusRepository/StatusRepositoryInterface\";\nimport StatusRepository from \"../../repository/StatusRepository/StatusRepository\";\nimport EntityManagerInterface from \"../EntityManager/EntityManagerInterface\";\nimport EntityManager from \"../EntityManager/EntityManager\";\nimport MarketOrdersMigration from \"../EntityManager/Migration/MarketOrdersMigration\";\nimport SettingsMigration from \"../EntityManager/Migration/SettingsMigration\";\nimport SettingsTable from \"../EntityManager/Table/SettingsTable\";\nimport SettingsTableInterface from \"../EntityManager/Table/SettingsTableInterface\";\nimport SettingsRepositoryInterface from \"../../repository/SettingsRepository/SettingsRepositoryInterface\";\nimport SettingsRepository from \"../../repository/SettingsRepository/SettingsRepository\";\nimport EsiProxyInterface from \"../EsiProxy/EsiProxyInterface\";\nimport EsiProxy from \"../EsiProxy/EsiProxy\";\nimport PathGenerator from \"../PathGenerator/PathGenerator\";\nimport ImagerInterface from \"../Imager/ImagerInterface\";\nimport Imager from \"../Imager/Imager\";\n\nclass Container {\n  private _esi: EsiClient | null = null;\n  private _esiProxy: EsiProxyInterface | null = null;\n  private _esiErrorManager: EsiErrorManagerInterface | null = null;\n  private _imager: ImagerInterface | null = null;\n  private _pathGenerator: PathGenerator | null = null;\n\n  get dateFormatter(): DateFormatterInterface {\n    return new DateFormatter();\n  }\n\n  get entityManager(): EntityManagerInterface {\n    return new EntityManager(\n      [\n        new MarketOrdersMigration(),\n        new SettingsMigration()\n      ]\n    );\n  }\n\n  get esi(): EsiClient {\n    if (this._esi === null) {\n      this._esi = new EsiClient(\n        (input: RequestInfo, init?: RequestInit): Promise<Response> => {\n          return fetch(input, init);\n        },\n        this.esiErrorManager\n      );\n    }\n\n    return this._esi;\n  }\n\n  get esiErrorManager(): EsiErrorManagerInterface {\n    if (this._esiErrorManager === null) {\n      this._esiErrorManager = new EsiErrorManager();\n    }\n\n    return this._esiErrorManager;\n  }\n\n  get esiProxy(): EsiProxyInterface {\n    if (this._esiProxy === null) {\n      this._esiProxy = new EsiProxy(\n        (input: RequestInfo, init?: RequestInit): Promise<Response> => {\n          return fetch(input, init);\n        },\n        this.esiErrorManager\n      );\n    }\n\n    return this._esiProxy;\n  }\n\n  get imager(): ImagerInterface {\n    if (this._imager === null) {\n      this._imager = new Imager();\n    }\n\n    return this._imager;\n  }\n\n  get pathGenerator(): PathGenerator {\n    if (this._pathGenerator === null) {\n      this._pathGenerator = new PathGenerator();\n    }\n\n    return this._pathGenerator;\n  }\n\n  get queryFactory(): QueryFactoryInterface {\n    return new QueryFactory();\n  }\n\n  // CALL //-------------------------------------------------------------------\n\n  get allianceCorporationsCall(): AllianceCorporationsCallInterface {\n    return new AllianceCorporationsCall(this.esi);\n  }\n\n  get allianceInfoCall(): AllianceInfoCallInterface {\n    return new AllianceInfoCall(this.esi);\n  }\n\n  get allianceListCall(): AllianceListCallInterface {\n    return new AllianceListCall(this.esi);\n  }\n\n  get ancestryCall(): AncestryCallInterface {\n    return new AncestryCall(this.esi);\n  }\n\n  get bloodlineCall(): BloodlineCallInterface {\n    return new BloodlineCall(this.esi);\n  }\n\n  get characterCorpHistoryCall(): CharacterCorpHistoryCallInterface {\n    return new CharacterCorpHistoryCall(this.esi);\n  }\n\n  get characterInfoCall(): CharacterInfoCallInterface {\n    return new CharacterInfoCall(this.esi);\n  }\n\n  get constellationInfoCall(): ConstellationInfoCallInterface {\n    return new ConstellationInfoCall(this.esi);\n  }\n\n  get corporationAllianceHistoryCall(): CorporationAllianceHistoryCallInterface {\n    return new CorporationAllianceHistoryCall(this.esi);\n  }\n\n  get corporationInfoCall(): CorporationInfoCallInterface {\n    return new CorporationInfoCall(this.esi);\n  }\n\n  get factionCall(): FactionCallInterface {\n    return new FactionCall(this.esi);\n  }\n\n  get publicSearchCall(): PublicSearchCallInterface {\n    return new PublicSearchCall(this.esi, this.queryFactory);\n  }\n\n  get raceCall(): RaceCallInterface {\n    return new RaceCall(this.esi);\n  }\n\n  get regionInfoCall(): RegionInfoCallInterface {\n    return new RegionInfoCall(this.esi);\n  }\n\n  get statusCall(): StatusCallInterface {\n    return new StatusCall(this.esi);\n  }\n\n  get stationInfoCall(): StationInfoCallInterface {\n    return new StationInfoCall(this.esi);\n  }\n\n  get systemInfoCall(): SystemInfoCallInterface {\n    return new SystemInfoCall(this.esi);\n  }\n\n  get typeInfoCall(): TypeInfoCallInterface {\n    return new TypeInfoCall(this.esi);\n  }\n\n  get universeNamesCall(): UniverseNamesCallInterface {\n    return new UniverseNamesCall(this.esi);\n  }\n\n  // CALL - END // ------------------------------------------------------------\n\n  // REPOSITORY //-------------------------------------------------------------\n\n  get allianceRepository(): AllianceRepositoryInterface {\n    return new AllianceRepository(\n      this.allianceListCall,\n      this.allianceInfoCall,\n      this.allianceCorporationsCall,\n      this.nameRepository\n    );\n  }\n\n  get ancestryRepository(): AncestryRepositoryInterface {\n    return new AncestryRepository(this.ancestryCall);\n  }\n\n  get bloodlineRepository(): BloodlineRepositoryInterface {\n    return new BloodlineRepository(\n      this.bloodlineCall,\n      this.raceRepository,\n      this.nameRepository\n    );\n  }\n\n  get characterRepository(): CharacterRepositoryInterface {\n    return new CharacterRepository(\n      this.characterInfoCall,\n      this.characterCorpHistoryCall,\n      this.ancestryRepository,\n      this.bloodlineRepository,\n      this.nameRepository,\n      this.raceRepository\n    );\n  }\n\n  get corporationRepository(): CorporationRepositoryInterface {\n    return new CorporationRepository(\n      this.corporationInfoCall,\n      this.corporationAllianceHistoryCall,\n      this.nameRepository\n    );\n  }\n\n  get factionRepository(): FactionRepositoryInterface {\n    return new FactionRepository(\n      this.factionCall,\n      this.nameRepository\n    );\n  }\n\n  get nameRepository(): NameRepositoryInterface {\n    return new NameRepository(this.universeNamesCall);\n  }\n\n  get raceRepository(): RaceRepositoryInterface {\n    return new RaceRepository(\n      this.raceCall,\n      this.nameRepository,\n      this.factionRepository\n    );\n  }\n\n  get rssRepository(): RSSRepositoryInterface {\n    return new RSSRepository();\n  }\n\n  get searchRepository(): SearchRepositoryInterface {\n    return new SearchRepository(\n      this.nameRepository,\n      this.publicSearchCall,\n      this.pathGenerator\n    );\n  }\n\n  get settingsRepository(): SettingsRepositoryInterface {\n    return new SettingsRepository(this.settingsTable);\n  }\n\n  get statusRepository(): StatusRepositoryInterface {\n    return new StatusRepository(this.statusCall);\n  }\n\n  // REPOSITORY - END // ------------------------------------------------------\n\n  // TABLE //------------------------------------------------------------------\n\n  get settingsTable(): SettingsTableInterface {\n    return new SettingsTable(this.entityManager);\n  }\n}\n\nexport default Container;\n","const initialState = {\n  mobileOpen: false,\n}\n\nexport default function drawerReducer(\n  state = initialState,\n  action: {type: string, payload?: any}\n) {\n  switch (action.type) {\n    case 'drawer/mobileOpen': {\n      return {\n        ...state,\n        mobileOpen: true,\n      };\n    }\n    case 'drawer/mobileClose': {\n      return {\n        ...state,\n        mobileOpen: false\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { THEME_CHANGE_MODE, THEME_SET_MODE } from \"./themeActions\";\n\nconst initialState = {\n  darkMode: false,\n}\n\nexport default function themeReducer(\n  state = initialState,\n  action: {type: string, payload?: any}\n) {\n  switch (action.type) {\n    case THEME_CHANGE_MODE: {\n      return {\n        ...state,\n        darkMode: !state.darkMode,\n      };\n    }\n    case THEME_SET_MODE: {\n      return {\n        ...state,\n        darkMode: action.payload,\n      };\n    }\n    default:\n      return state;\n  }\n}","import { ENQUEUE_SNACKBAR, CLOSE_ONE, CLOSE_ALL, REMOVE_SNACKBAR } from './notifierActions';\nimport ReduxNotificationInterface from \"./ReduxNotificationInterface\";\nimport NotifierStateInterface from \"./NotifierStateInterface\";\n\ntype NotifierAction = {\n  type: string,\n  notification?: ReduxNotificationInterface,\n  key?: number\n};\n\nconst initialState: NotifierStateInterface = {\n  notifications: [],\n};\n\nexport default function notifierReducer(\n  state: NotifierStateInterface = initialState,\n  action: NotifierAction\n): NotifierStateInterface {\n  switch (action.type) {\n    case ENQUEUE_SNACKBAR:\n      let actionNotification = action.notification as ReduxNotificationInterface;\n      return {\n        ...state,\n        notifications: [\n          ...state.notifications,\n          {\n            ...actionNotification,\n          },\n        ],\n      };\n    case CLOSE_ONE:\n      return {\n        ...state,\n        notifications: state.notifications.map(notification => ({\n          ...notification,\n          dismissed: notification.key === action.key\n        })),\n      };\n    case CLOSE_ALL:\n      return {\n        ...state,\n        notifications: state.notifications.map(notification => ({\n          ...notification,\n          dismissed: true\n        })),\n      };\n    case REMOVE_SNACKBAR:\n      return {\n        ...state,\n        notifications: state.notifications.filter(\n          notification => notification.key !== action.key,\n        ),\n      };\n    default:\n      return state;\n  }\n}\n","import {combineReducers} from 'redux';\n\nimport drawerReducer from './feature/drawer/drawerSlice';\nimport themeReducer from './feature/theme/themeSlice';\nimport notifierReducer from \"./feature/notifier/notifierSlice\";\n\nconst rootReducer = combineReducers({\n  // keys of this object will become the keys of the root state object\n  drawer: drawerReducer,\n  theme: themeReducer,\n  notifier: notifierReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport Container from \"./service/Container/Container\";\nimport rootReducer from \"./reducer\";\n\n\nexport const container = new Container();\n\nexport const store = createStore(\n  rootReducer,\n  applyMiddleware(thunk.withExtraArgument(container))\n);\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppDispatch = typeof store.dispatch;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyApp from \"./component/MyApp/MyApp\";\nimport { store, container } from \"./store\";\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from \"react-router-dom\";\nimport '@fontsource/roboto';\nimport { SnackbarProvider } from 'notistack';\n\nimport { DepsProvider } from \"./context/DepsContext/DepsContext\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <DepsProvider container={container}>\n        <HashRouter>\n          <SnackbarProvider maxSnack={3}>\n            <MyApp />\n          </SnackbarProvider>\n        </HashRouter>\n      </DepsProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}